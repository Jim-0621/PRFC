File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/ui/NativeMenuActivity.java
Patch:
@@ -45,6 +45,9 @@ protected void onCreate(Bundle savedInstanceState) {
 
         setContentView(R.layout.carddemo_activity_native);
 
+        if (getSupportActionBar() != null)
+            getSupportActionBar().setTitle(R.string.navdrawer_item_native_cardslib);
+
         if (null == savedInstanceState) {
             getFragmentManager().beginTransaction()
                     .replace(R.id.container, NativeDashFragment.newInstance())

File: library-recyclerview/src/main/java/it/gmariotti/cardslib/library/recyclerview/internal/BaseRecyclerViewAdapter.java
Patch:
@@ -58,7 +58,7 @@ public abstract class BaseRecyclerViewAdapter extends RecyclerView.Adapter<BaseR
     protected @LayoutRes int[] mRowLayoutIds;
 
     /**
-     * {@link it.gmariotti.cardslib.library.view.CardRecyclerView}
+     * {@link CardRecyclerView}
      */
     protected CardRecyclerView mCardRecyclerView;
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/nativeview/NativeGridCursorCardFragment.java
Patch:
@@ -140,7 +140,7 @@ protected Card getCardFromCursor(Cursor cursor) {
             setCardFromCursor(card,cursor);
 
             //Create a CardHeader
-            CardHeader header = new CardHeader(getActivity(),R.layout.carddemo_inner_gridcursor_header);
+            CardHeader header = new CardHeader(getActivity(),R.layout.native_inner_gplay2_header);
             //Set the header title
 
             header.setTitle(card.mainHeader);
@@ -221,7 +221,7 @@ public class MyCursorCard extends Card {
         int resourceIdThumb;
 
         public MyCursorCard(Context context) {
-            super(context, R.layout.carddemo_cursor_inner_content);
+            super(context, R.layout.carddemo_cursor_native_inner_content);
         }
 
         @Override

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/nativeview/NativeGridGplayFragment.java
Patch:
@@ -137,15 +137,15 @@ public class GplayGridCard extends Card {
         protected float rating;
 
         public GplayGridCard(Context context) {
-            super(context, R.layout.carddemo_gplay_inner_content);
+            super(context, R.layout.carddemo_native_gplay_inner_content);
         }
 
         public GplayGridCard(Context context, int innerLayout) {
             super(context, innerLayout);
         }
 
         private void init() {
-            CardHeader header = new CardHeader(getContext());
+            CardHeader header = new CardHeader(getContext(),R.layout.native_inner_gplay_header);
             header.setButtonOverflowVisible(true);
             header.setTitle(headerTitle);
             header.setPopupMenu(R.menu.popupmain, new CardHeader.OnClickCardHeaderPopupMenuListener() {

File: library-core/src/main/java/it/gmariotti/cardslib/library/view/helper/CardViewHelperImplBase.java
Patch:
@@ -21,6 +21,7 @@
 import android.content.Context;
 import android.content.res.TypedArray;
 import android.graphics.drawable.Drawable;
+import android.support.v4.view.ViewCompat;
 import android.view.View;
 import android.widget.ImageButton;
 
@@ -53,7 +54,7 @@ public void setCardSelector(View viewClickable, Drawable defaultDrawable) {
 
     @Override
     public void setElevation(View view, float elevation) {
-
+        ViewCompat.setElevation(view, elevation);
     }
 
     @Override

File: library-core/src/main/java/it/gmariotti/cardslib/library/Constants.java
Patch:
@@ -18,13 +18,15 @@
 
 package it.gmariotti.cardslib.library;
 
+import android.os.Build;
+
 /**
  * @author Gabriele Mariotti (gabri.mariotti@gmail.com)
  */
 public class Constants {
 
 
-    public static int API_L = 20;
+    public static int API_L = Build.VERSION_CODES.LOLLIPOP;
 
     public static class IntentManager{
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/stickylist/StickyCardListView.java
Patch:
@@ -38,6 +38,7 @@
 import se.emilsjolander.stickylistheaders.StickyListHeadersAdapter;
 import se.emilsjolander.stickylistheaders.StickyListHeadersListView;
 
+
 /**
  * @author Gabriele Mariotti (gabri.mariotti@gmail.com)
  */

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/MainNativeActivity.java
Patch:
@@ -54,7 +54,6 @@
 import it.gmariotti.cardslib.demo.fragment.GridCursorCardFragment;
 import it.gmariotti.cardslib.demo.fragment.GridGplayCABFragment;
 import it.gmariotti.cardslib.demo.fragment.GridGplayFragment;
-import it.gmariotti.cardslib.demo.fragment.HeaderFragment;
 import it.gmariotti.cardslib.demo.fragment.ListBaseFragment;
 import it.gmariotti.cardslib.demo.fragment.ListColorFragment;
 import it.gmariotti.cardslib.demo.fragment.ListCursorCardFragment;
@@ -70,6 +69,7 @@
 import it.gmariotti.cardslib.demo.fragment.StockCardFragment;
 import it.gmariotti.cardslib.demo.fragment.ThumbnailFragment;
 import it.gmariotti.cardslib.demo.fragment.androidL.NativeCardFragment;
+import it.gmariotti.cardslib.demo.fragment.androidL.NativeHeaderFragment;
 import it.gmariotti.cardslib.demo.iabutils.IabHelper;
 import it.gmariotti.cardslib.demo.iabutils.IabResult;
 import it.gmariotti.cardslib.demo.iabutils.IabUtil;
@@ -303,7 +303,7 @@ private BaseFragment selectFragment(int position) {
         switch (position) {
 
             case CASE_HEADER:
-                baseFragment = new HeaderFragment();
+                baseFragment = new NativeHeaderFragment();
                 break;
             case CASE_SHADOW:
                 baseFragment = new ShadowFragment();

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/androidL/BaseMaterialFragment.java
Patch:
@@ -63,7 +63,7 @@ public void onActivityCreated(Bundle savedInstanceState) {
         LPreviewUtilsBase lpu = LPreviewUtils.getInstance(getActivity());
 
         float mMaxHeaderElevation = getResources().getDimensionPixelSize(
-                R.dimen.session_detail_max_header_elevation);
+                R.dimen.carddemo_barheader_elevation);
 
         mHeaderShadow.setVisibility(lpu.hasLPreviewAPIs() ? View.GONE : View.VISIBLE);
         lpu.setViewElevation(mHeaderBackgroundBox,  mMaxHeaderElevation);

File: library/src/main/java/it/gmariotti/cardslib/library/view/listener/UndoBarController.java
Patch:
@@ -113,7 +113,7 @@ public void showUndoBar(boolean immediate, CharSequence message,
         // the original object removal was not undone. So, execute
         // onUndoBarHide for the previous listener.
         if (mUndoBarHideListener != null) {
-            undoBarHideListener.onUndoBarHide(mUndoToken == null);
+            mUndoBarHideListener.onUndoBarHide(mUndoToken == null);
         }
 
         mUndoToken = undoToken;

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/ListSectionedCardFragment.java
Patch:
@@ -102,7 +102,6 @@ private void initCards() {
 
         CardListView listView = (CardListView) getActivity().findViewById(R.id.carddemo_list_gplaycard);
         if (listView!=null){
-            //listView.setAdapter(mAdapter);
             listView.setExternalAdapter(mAdapter,mCardArrayAdapter);
         }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/ListSectionedCardFragment.java
Patch:
@@ -102,7 +102,6 @@ private void initCards() {
 
         CardListView listView = (CardListView) getActivity().findViewById(R.id.carddemo_list_gplaycard);
         if (listView!=null){
-            //listView.setAdapter(mAdapter);
             listView.setExternalAdapter(mAdapter,mCardArrayAdapter);
         }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/CardWithListArrayFragment.java
Patch:
@@ -72,7 +72,7 @@ private void initCard() {
         for (int i=0;i<200;i++) {
             //Create a Card
             GoogleNowWeatherCard card = new GoogleNowWeatherCard(getActivity());
-            card.init(i);
+            card.init();
             cards.add(card);
         }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/GoogleKnowwithList.java
Patch:
@@ -88,7 +88,7 @@ protected List<ListObject> initChildren() {
         s2.name = "Another user";
         s2.common = "3 people in common";
         s2.url = "https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s54/new%2520profile%2520%25282%2529.jpg";
-        mObjects.add(s1);
+        mObjects.add(s2);
 
         return mObjects;
     }

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/fragment/CardWithListFragment.java
Patch:
@@ -74,6 +74,7 @@ public void onCreate(Bundle savedInstanceState) {
 
         // Let's create the WeatherProvider
         config = new WeatherConfig();
+        config.lang = "en"; // If you want to use english
         config.unitSystem = WeatherConfig.UNIT_SYSTEM.M;
         config.numDays = 6; // Max num of days in the forecast
 
@@ -124,14 +125,15 @@ public void onConnectionError(Throwable t) {
      */
     private void initCard() {
 
-        //Create a Card
+        //Weather Card
        card= new WeatherCard(getActivity());
 
         //Set card in the cardView
         CardView cardView = (CardView) getActivity().findViewById(R.id.carddemo_weathercard);
         cardView.setCard(card);
 
 
+        //May know card
         GoogleKnowwithList card2= new GoogleKnowwithList(getActivity());
 
         //Set card in the cardView

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/PicassoCard.java
Patch:
@@ -112,13 +112,13 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
             //It is just an example !
 
             if (((PicassoCard) getParentCard()).getCount() % 2 == 0) {
-                Picasso.with(getContext()).setDebugging(true);  //only for debug tests
+                Picasso.with(getContext()).setIndicatorsEnabled(true);  //only for debug tests
                 Picasso.with(getContext())
                         .load("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s96/new%2520profile%2520%25282%2529.jpg")
                         .error(R.drawable.ic_error_loadingsmall)
                         .into((ImageView) viewImage);
             } else {
-                Picasso.with(getContext()).setDebugging(true);  //only for debug tests
+                Picasso.with(getContext()).setIndicatorsEnabled(true);  //only for debug tests
                 Picasso.with(getContext())
                         .load(R.drawable.ic_tris)
                         .resize(96, 96)

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/fragment/BaseFragment.java
Patch:
@@ -43,8 +43,8 @@ public void onResume() {
         setTitle();
     }
 
-    protected void setTitle(){
-        if (getActivity()!=null){
+    protected void setTitle() {
+        if (getActivity() != null) {
             getActivity().setTitle(getTitleResourceId());
             getActivity().getActionBar().setTitle(getTitleResourceId());
         }

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/GridCursorCardFragment.java
Patch:
@@ -139,7 +139,7 @@ public void onMenuItemClick(BaseCard card, MenuItem item) {
             card.setOnClickListener(new Card.OnCardClickListener() {
                 @Override
                 public void onClick(Card card, View view) {
-                    Toast.makeText(getContext(), "Card id=" + card.getId() + " Title=" + card.getTitle(), Toast.LENGTH_SHORT).show();
+                    Toast.makeText(getContext(), "Card id=" + card.getId() + " Title=" + card.getCardHeader().getTitle(), Toast.LENGTH_SHORT).show();
                 }
             });
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/ListCursorCardFragment.java
Patch:
@@ -143,7 +143,7 @@ public void onMenuItemClick(BaseCard card, MenuItem item) {
             card.setOnClickListener(new Card.OnCardClickListener() {
                 @Override
                 public void onClick(Card card, View view) {
-                    Toast.makeText(getContext(), "Card id=" + card.getId() + " Title=" + card.getTitle(), Toast.LENGTH_SHORT).show();
+                    Toast.makeText(getContext(), "Card id=" + card.getId() + " Title=" + card.getCardHeader().getTitle(), Toast.LENGTH_SHORT).show();
                 }
             });
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/ListGplayCursorCardCABFragment.java
Patch:
@@ -197,7 +197,7 @@ public boolean onLongClick(Card card, View view) {
             card.setOnClickListener(new Card.OnCardClickListener() {
                 @Override
                 public void onClick(Card card, View view) {
-                    Toast.makeText(getContext(), "Card id=" + card.getId() + " Title=" + card.getTitle(), Toast.LENGTH_SHORT).show();
+                    Toast.makeText(getContext(), "Card id=" + card.getId() + " Title=" + card.getCardHeader().getTitle(), Toast.LENGTH_SHORT).show();
                 }
             });
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/MainActivity.java
Patch:
@@ -126,6 +126,7 @@ public void onIabSetupFinished(IabResult result) {
                 if (!result.isSuccess()) {
                     // Oh noes, there was a problem.
                     Log.d(TAG, "Problem setting up In-app Billing: " + result);
+                    return;
                 }
 
                 // Have we been disposed of in the meantime? If so, quit.

File: library/src/main/java/it/gmariotti/cardslib/library/internal/CardCursorAdapter.java
Patch:
@@ -148,6 +148,8 @@ public void bindView(View view, Context context, Cursor cursor) {
                 //Setup swipeable animation
                 setupSwipeableAnimation(mCard, mCardView);
 
+                //setupMultiChoice
+                setupMultichoice(view,mCard,mCardView,cursor.getPosition());
             }
         }
     }

File: library/src/main/java/it/gmariotti/cardslib/library/internal/CardCursorAdapter.java
Patch:
@@ -148,6 +148,8 @@ public void bindView(View view, Context context, Cursor cursor) {
                 //Setup swipeable animation
                 setupSwipeableAnimation(mCard, mCardView);
 
+                //setupMultiChoice
+                setupMultichoice(view,mCard,mCardView,cursor.getPosition());
             }
         }
     }

File: library/src/main/java/it/gmariotti/cardslib/library/view/component/CardHeaderView.java
Patch:
@@ -422,7 +422,9 @@ public void onClick(View v) {
                     }
                 });
             } else {
-                mImageButtonOverflow.setVisibility(GONE);
+                if (mCardHeader.getCustomOverflowAnimation()==null) {
+                    mImageButtonOverflow.setVisibility(GONE);
+                }
             }
 
         } else {

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/MainActivity.java
Patch:
@@ -418,7 +418,7 @@ private void openFragment(BaseFragment baseFragment) {
             "Grid with Cursor",
             "List with MultiChoice",
             "Grid with MultiChoice",
-            "Dismiss Animation",
+            "Dismiss Animation (exp)",
             "Overflow Animation (exp)"
     };
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/cards/GoogleNowBirthCard.java
Patch:
@@ -79,7 +79,7 @@ public void onClick(Card card, View view) {
         GoogleNowBirthThumb thumbnail = new GoogleNowBirthThumb(getContext());
         float density = getContext().getResources().getDisplayMetrics().density;
         int size= (int)(125*density);
-        thumbnail.setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz="+size);
+        thumbnail.setUrlResource("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s"+size+"/new%2520profile%2520%25282%2529.jpg");
         thumbnail.setErrorResource(R.drawable.ic_ic_error_loading);
         addCardThumbnail(thumbnail);
     }

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/cards/MayKnowCard.java
Patch:
@@ -55,7 +55,7 @@ private void init() {
 
         //Add Thumbnail
         CardThumbnail thumbnail = new CardThumbnail(getContext());
-        thumbnail.setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=72");
+        thumbnail.setUrlResource("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s72/new%2520profile%2520%25282%2529.jpg");
         thumbnail.setErrorResource(R.drawable.ic_error_loadingsmall);
         addCardThumbnail(thumbnail);
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/DismissAnimFragment.java
Patch:
@@ -107,7 +107,7 @@ public void onButtonItemClick(Card card, View view) {
         int size = (int) (75 * density);
         switch (i % 3) {
             case 0:
-                thumb.setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=" + size);
+                thumb.setUrlResource("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s"+size+"/new%2520profile%2520%25282%2529.jpg");
                 break;
             case 1:
                 thumb.setDrawableResource(R.drawable.ic_ic_error_loading);

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/MiscCardFragment.java
Patch:
@@ -125,7 +125,7 @@ public CardThumbnailCircle(Context context) {
 
             float density = getContext().getResources().getDisplayMetrics().density;
             int size = (int) (70*density);
-            setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz="+size);
+            setUrlResource("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s"+size+"/new%2520profile%2520%25282%2529.jpg");
             setErrorResource(R.drawable.ic_ic_error_loading);
         }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/OverflowAnimFragment.java
Patch:
@@ -230,7 +230,7 @@ public void onClick(Card card, View view) {
             CardThumbnail thumbnail = new CardThumbnail(getContext());
             float density = getContext().getResources().getDisplayMetrics().density;
             int size= (int)(125*density);
-            thumbnail.setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz="+size);
+            thumbnail.setUrlResource("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s"+size+"/new%2520profile%2520%25282%2529.jpg");
             thumbnail.setErrorResource(R.drawable.ic_ic_error_loading);
             addCardThumbnail(thumbnail);
         }

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/fragment/BaseStaggeredGridFragment.java
Patch:
@@ -121,9 +121,9 @@ private void initCard() {
         //Set the arrayAdapter
         CardGridStaggeredArrayAdapter mCardArrayAdapter = new CardGridStaggeredArrayAdapter(getActivity(), cards);
 
-        CardGridStaggeredView mListView = (CardGridStaggeredView) getActivity().findViewById(R.id.carddemo_extras_grid_stag);
-        if (mListView != null) {
-            mListView.setAdapter(mCardArrayAdapter);
+        CardGridStaggeredView mGridView = (CardGridStaggeredView) getActivity().findViewById(R.id.carddemo_extras_grid_stag);
+        if (mGridView != null) {
+            mGridView.setAdapter(mCardArrayAdapter);
         }
 
     }

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/fragment/BaseStaggeredGridFragment.java
Patch:
@@ -86,7 +86,7 @@ private void initCard() {
 
             SquareGridCard card = new SquareGridCard(getActivity());
 
-            card.headerTitle = "Simple card " + i;
+            card.headerTitle = "Card " + i;
 
             //Only for test scope, use random colors, and random height
             int random = (int) (Math.random() * 6);

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/staggered/DynamicHeightPicassoCardThumbnailView.java
Patch:
@@ -23,6 +23,7 @@
 import android.util.AttributeSet;
 import android.util.Log;
 
+import com.squareup.picasso.Cache;
 import com.squareup.picasso.Picasso;
 import com.squareup.picasso.RequestCreator;
 
@@ -77,6 +78,7 @@ public void onImageLoadFailed(Picasso picasso, Uri uri, Exception e) {
                         Log.e("DynamicHeightPicassoCardThumbnailView", "Failed to load image: " + uri, e);
                     }
                 })
+                .memoryCache(Cache.NONE)
                 .build();
     }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/staggered/data/MockImageLoader.java
Patch:
@@ -54,7 +54,7 @@ public static MockImageLoader getInstance(Application application){
      */
     public ImageBuilder newImage(String filename) {
 
-        String path = "mock/images/" + filename;
+        String path = "images/" + filename;
 
         int width;
         int height;

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/MainActivity.java
Patch:
@@ -344,7 +344,7 @@ private void openFragment(BaseFragment baseFragment) {
             "GridViewAnimations",
             "Crouton",
             "StickyListHeaders",
-            //"StaggeredGrid",
+            "StaggeredGrid (exp)",
             "Expand inside"
 
     };

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/GoogleNowBirthCard.java
Patch:
@@ -107,7 +107,7 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
             //Here you have to set your image with an external library
             Picasso.with(getContext()).setDebugging(true);
             Picasso.with(getContext())
-                   .load("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=250")
+                   .load("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s250/new%2520profile%2520%25282%2529.jpg")
                    .into((ImageView)viewImage);
 
             viewImage.getLayoutParams().width = 250;

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/IonCard.java
Patch:
@@ -115,7 +115,7 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
                         .resize(96, 96)
                         .error(R.drawable.ic_error_loadingsmall)
                         .centerInside()
-                        .load("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=96");
+                        .load("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s96/new%2520profile%2520%25282%2529.jpg");
 
             } else {
                 //I can use built-in method with drawable resources.

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/PicassoCard.java
Patch:
@@ -113,7 +113,7 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
             if (((PicassoCard) getParentCard()).getCount() % 2 == 0) {
                 Picasso.with(getContext()).setDebugging(true);  //only for debug tests
                 Picasso.with(getContext())
-                        .load("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=96")
+                        .load("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s96/new%2520profile%2520%25282%2529.jpg")
                         .error(R.drawable.ic_error_loadingsmall)
                         .into((ImageView) viewImage);
             } else {

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/UniversalImageLoaderCard.java
Patch:
@@ -118,7 +118,7 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
             //Here you have to set your image with an external library
             //Only for test, use a Resource Id and a Url
             if (((UniversalImageLoaderCard) getParentCard()).getCount() % 2 == 0) {
-                imageLoader.displayImage("http://plus.google.com/s2/photos/profile/114432517923423045208?sz=96", (ImageView) viewImage,options);
+                imageLoader.displayImage("https://lh5.googleusercontent.com/-squZd7FxR8Q/UyN5UrsfkqI/AAAAAAAAbAo/VoDHSYAhC_E/s96/new%2520profile%2520%25282%2529.jpg", (ImageView) viewImage,options);
             } else {
                 imageLoader.displayImage("drawable://" + R.drawable.ic_tris, (ImageView) viewImage,options);
             }

File: library/src/main/java/it/gmariotti/cardslib/library/internal/CardCursorAdapter.java
Patch:
@@ -143,7 +143,7 @@ public void bindView(View view, Context context, Cursor cursor) {
                     Log.d(TAG, "Swipe action not enabled in this type of view");
 
                 //If card has an expandable button override animation
-                if (mCard.getCardHeader() != null && mCard.getCardHeader().isButtonExpandVisible()) {
+                if ((mCard.getCardHeader() != null && mCard.getCardHeader().isButtonExpandVisible()) || mCard.getViewToClickToExpand()!=null ){
                     setupExpandCollapseListAnimation(mCardView);
                 }
 

File: library/src/main/java/it/gmariotti/cardslib/library/view/CardListView.java
Patch:
@@ -176,7 +176,7 @@ public void setAdapter(ListAdapter adapter) {
         }else if (adapter instanceof CardCursorAdapter){
             setAdapter((CardCursorAdapter)adapter);
         }else {
-            Log.e(TAG,"You are using a generic adapter. Pay attention: your adapter has to call cardArrayAdapter#getView method" );
+            Log.w(TAG,"You are using a generic adapter. Pay attention: your adapter has to call cardArrayAdapter#getView method" );
             super.setAdapter(adapter);
         }
     }

File: library/src/main/java/it/gmariotti/cardslib/library/internal/CardArrayMultiChoiceAdapter.java
Patch:
@@ -86,7 +86,9 @@ public void setCardListView(CardListView cardListView) {
     @Override
     protected void setupMultichoice(View view, Card mCard, CardView mCardView, long position) {
         super.setupMultichoice(view, mCard, mCardView, position);
+
         mCardView.setLongClickable(true);
+
         mCardView.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {

File: library/src/main/java/it/gmariotti/cardslib/library/internal/multichoice/MultiChoiceAdapterHelperBase.java
Patch:
@@ -111,7 +111,7 @@ public boolean onItemLongClick(AdapterView<?> adapterView, View view, int positi
         boolean wasChecked =  mAdapterView.isItemChecked((int)handle);
         setItemChecked(handle, !wasChecked);
 
-        return true;
+        return false;
 
     }
 

File: library/src/main/java/it/gmariotti/cardslib/library/internal/Card.java
Patch:
@@ -63,12 +63,12 @@ public class Card extends BaseCard {
     /**
      * Used to enable a onClick Action on card
      */
-    protected boolean mIsClickable = true;
+    protected boolean mIsClickable = false;
 
     /**
      * Used to enable a onLongClick Action on card
      */
-    protected boolean mIsLongClickable = true;
+    protected boolean mIsLongClickable = false;
 
     /**
      * Used to enable a swipe gesture and its listener {@link Card#setOnClickListener(OnCardClickListener)}

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/ListCursorCardFragment.java
Patch:
@@ -123,7 +123,7 @@ protected Card getCardFromCursor(Cursor cursor) {
             header.setPopupMenu(R.menu.popupmain, new CardHeader.OnClickCardHeaderPopupMenuListener() {
                 @Override
                 public void onMenuItemClick(BaseCard card, MenuItem item) {
-                    Toast.makeText(getContext(), "Click on item=" +  item.getTitle(), Toast.LENGTH_SHORT).show();
+                    Toast.makeText(getContext(), "Click on card="+card.getId()+" item=" +  item.getTitle(), Toast.LENGTH_SHORT).show();
                 }
             });
 

File: library/src/main/java/it/gmariotti/cardslib/library/view/component/CardHeaderView.java
Patch:
@@ -369,7 +369,7 @@ public void onClick(View v) {
                         public boolean onMenuItemClick(MenuItem item) {
                             if (mCardHeader.getPopupMenu() > 0 && mCardHeader.getPopupMenuListener() != null) {
                                 // This individual card has it unique menu
-                                mCardHeader.getPopupMenuListener().onMenuItemClick(mCardHeader, item);
+                                mCardHeader.getPopupMenuListener().onMenuItemClick(mCardHeader.getParentCard(), item);
                             }
                             return false;
                         }

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/ListCursorCardFragment.java
Patch:
@@ -123,7 +123,7 @@ protected Card getCardFromCursor(Cursor cursor) {
             header.setPopupMenu(R.menu.popupmain, new CardHeader.OnClickCardHeaderPopupMenuListener() {
                 @Override
                 public void onMenuItemClick(BaseCard card, MenuItem item) {
-                    Toast.makeText(getContext(), "Click on card menu" + ((MyCursorCard)card).mainTitle +" item=" +  item.getTitle(), Toast.LENGTH_SHORT).show();
+                    Toast.makeText(getContext(), "Click on item=" +  item.getTitle(), Toast.LENGTH_SHORT).show();
                 }
             });
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/db/CardCursorProvider.java
Patch:
@@ -306,7 +306,7 @@ interface Tables {
 
         public CardCursorSQLiteOpenHelper(Context context, String name,
                                      SQLiteDatabase.CursorFactory factory, int version) {
-            super(context, context.getExternalFilesDir(null).getAbsolutePath() + "/" + name, factory, version);
+            super(context, name, factory, version);
         }
 
         // Called when no database exists in disk and the helper class needs

File: library/src/main/java/it/gmariotti/cardslib/library/internal/CardCursorAdapter.java
Patch:
@@ -198,7 +198,7 @@ public boolean canDismiss(int position, Card card) {
         @Override
         public void onDismiss(ListView listView, int[] reverseSortedPositions) {
 
-            /*
+
             int[] itemPositions=new int[reverseSortedPositions.length];
             String[] itemIds=new String[reverseSortedPositions.length];
             int i=0;
@@ -210,13 +210,13 @@ public void onDismiss(ListView listView, int[] reverseSortedPositions) {
                 itemIds[i]=card.getId();
                 i++;
 
-                remove(card);
                 if (card.getOnSwipeListener() != null){
                         card.getOnSwipeListener().onSwipe(card);
                 }
             }
-            notifyDataSetChanged();
+            //notifyDataSetChanged();
 
+            /*
             //Check for a undo message to confirm
             if (isEnableUndo() && mUndoBarController!=null){
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/GridGplayFragment.java
Patch:
@@ -176,8 +176,8 @@ public GplayGridThumb(Context context) {
 
             @Override
             public void setupInnerViewElements(ViewGroup parent, View viewImage) {
-                viewImage.getLayoutParams().width = 196;
-                viewImage.getLayoutParams().height = 196;
+                //viewImage.getLayoutParams().width = 196;
+                //viewImage.getLayoutParams().height = 196;
 
             }
         }

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/cards/GoogleNowBirthCard.java
Patch:
@@ -95,8 +95,10 @@ public GoogleNowBirthThumb(Context context) {
 
         @Override
         public void setupInnerViewElements(ViewGroup parent, View viewImage) {
+            /*
             viewImage.getLayoutParams().width = 250;
             viewImage.getLayoutParams().height = 250;
+            */
         }
     }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/IonCard.java
Patch:
@@ -123,9 +123,10 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
                 setDrawableResource(R.drawable.ic_tris);
             }
 
-
+            /*
             viewImage.getLayoutParams().width = 96;
             viewImage.getLayoutParams().height = 96;
+            */
         }
     }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/PicassoCard.java
Patch:
@@ -123,9 +123,10 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
                         .resize(96, 96)
                         .into((ImageView) viewImage);
             }
-
+            /*
             viewImage.getLayoutParams().width = 96;
             viewImage.getLayoutParams().height = 96;
+            */
         }
     }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/UniversalImageLoaderCard.java
Patch:
@@ -123,8 +123,10 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
                 imageLoader.displayImage("drawable://" + R.drawable.ic_tris, (ImageView) viewImage,options);
             }
 
+            /*
             viewImage.getLayoutParams().width = 96;
             viewImage.getLayoutParams().height = 96;
+            */
         }
     }
 

File: library/src/main/java/it/gmariotti/cardslib/library/view/CardListView.java
Patch:
@@ -337,7 +337,9 @@ public boolean onPreDraw() {
                             int delta = i > index ? yTranslateBottom : -yTranslateTop;
                             animations.add(getAnimation(v, delta, delta));
                         }
-                        v.setHasTransientState(false);
+                        if (Build.VERSION.SDK_INT >= 16){
+                            v.setHasTransientState(false);
+                        }
                     }
                 }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/MainActivity.java
Patch:
@@ -132,6 +132,9 @@ public void onIabSetupFinished(IabResult result) {
                     Log.d(TAG, "Problem setting up In-app Billing: " + result);
                 }
 
+                // Have we been disposed of in the meantime? If so, quit.
+                if (mHelper == null) return;
+
                 // Hooray, IAB is fully set up!
                 IabUtil.getInstance().retrieveData(mHelper);
             }

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/iabutils/Base64.java
Patch:
@@ -39,6 +39,7 @@
  * Base64 converter class. This code is not a complete MIME encoder;
  * it simply converts binary data to base64 data and back.
  *
+ * <p>Note {@link CharBase64} is a GWT-compatible implementation of this
  * class.
  */
 public class Base64 {

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/ColorCard.java
Patch:
@@ -28,8 +28,7 @@
 import it.gmariotti.cardslib.library.internal.Card;
 
 /**
- * This class provides a simple card with Thumbnail loaded with built-in method and Picasso library
- * Please refer to https://github.com/square/picasso for full doc
+ * Simple colored card
  *
  * @author Gabriele Mariotti (gabri.mariotti@gmail.com)
  */
@@ -53,7 +52,7 @@ private void init() {
         setOnClickListener(new OnCardClickListener() {
             @Override
             public void onClick(Card card, View view) {
-                Toast.makeText(getContext(), "Click Listener card=", Toast.LENGTH_SHORT).show();
+                Toast.makeText(getContext(), "Click Listener card="+count, Toast.LENGTH_SHORT).show();
             }
         });
     }

File: library/src/main/java/it/gmariotti/cardslib/library/view/component/CardThumbnailView.java
Patch:
@@ -291,7 +291,7 @@ public void loadBitmap(String url, ImageView imageView) {
 
 
     protected void addBitmapToMemoryCache(String key, Bitmap bitmap) {
-        if (getBitmapFromMemCache(key) == null) {
+        if (!mLoadingErrorResource && getBitmapFromMemCache(key) == null) {
             if (key!=null && bitmap!=null){
                 mMemoryCache.put(key, bitmap);
             }

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/IonCard.java
Patch:
@@ -113,6 +113,7 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
 
                 Ion.with((ImageView) viewImage)
                         .resize(96, 96)
+                        .error(R.drawable.ic_error_loadingsmall)
                         .centerInside()
                         .load("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=96");
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/PicassoCard.java
Patch:
@@ -114,6 +114,7 @@ public void setupInnerViewElements(ViewGroup parent, View viewImage) {
                 Picasso.with(getContext()).setDebugging(true);  //only for debug tests
                 Picasso.with(getContext())
                         .load("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=96")
+                        .error(R.drawable.ic_error_loadingsmall)
                         .into((ImageView) viewImage);
             } else {
                 Picasso.with(getContext()).setDebugging(true);  //only for debug tests

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/cards/UniversalImageLoaderCard.java
Patch:
@@ -60,7 +60,7 @@ public UniversalImageLoaderCard(Context context, int innerLayout) {
     private void init() {
 
         //Add thumbnail
-        PicassoCardThumbnail cardThumbnail = new PicassoCardThumbnail(mContext);
+        UniversalCardThumbnail cardThumbnail = new UniversalCardThumbnail(mContext);
         cardThumbnail.setExternalUsage(true);
         addCardThumbnail(cardThumbnail);
 
@@ -95,9 +95,9 @@ public void setupInnerViewElements(ViewGroup parent, View view) {
      * This method is called before built-in method.
      * If {@link it.gmariotti.cardslib.library.internal.CardThumbnail#isExternalUsage()} is false it uses the built-in method.
      */
-    class PicassoCardThumbnail extends CardThumbnail {
+    class UniversalCardThumbnail extends CardThumbnail {
 
-        public PicassoCardThumbnail(Context context) {
+        public UniversalCardThumbnail(Context context) {
             super(context);
         }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/fragment/ActionbarpullFragment.java
Patch:
@@ -97,7 +97,7 @@ private void initCard() {
             card.setTitle("A simple card loaded with Picasso " + i);
             card.setSecondaryTitle("Simple text..." + i);
             card.setCount(i);
-            //card.setSwipeable(true);
+            card.setSwipeable(true);
             cards.add(card);
         }
 

File: demo/extras/src/main/java/it/gmariotti/cardslib/demo/extras/fragment/UniversalImageLoaderFragment.java
Patch:
@@ -91,6 +91,7 @@ private void initUniversalImageLoaderLibrary(){
         options = new DisplayImageOptions.Builder()
                 .cacheInMemory(true)
                 .displayer(new SimpleBitmapDisplayer())
+                .showImageOnFail(R.drawable.ic_error_loadingsmall)
                 .build();
     }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/MainActivity.java
Patch:
@@ -64,7 +64,7 @@ public class MainActivity extends Activity {
     private ListView mDrawerList;
     private DrawerLayout mDrawer;
     private CustomActionBarDrawerToggle mDrawerToggle;
-    private int mCurrentTitle;
+    private int mCurrentTitle=R.string.app_name;
     private int mSelectedFragment;
     private BaseFragment mBaseFragment;
 
@@ -342,7 +342,8 @@ private void openFragment(BaseFragment baseFragment) {
             fragmentTransaction.replace(R.id.fragment_main, baseFragment);
             //fragmentTransaction.addToBackStack(null);
             fragmentTransaction.commit();
-            mCurrentTitle = baseFragment.getTitleResourceId();
+            if (baseFragment.getTitleResourceId()>0)
+                mCurrentTitle = baseFragment.getTitleResourceId();
         }
     }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/cards/GoogleNowBirthCard.java
Patch:
@@ -72,6 +72,7 @@ public void onClick(Card card, View view) {
         //Add Thumbnail
         GoogleNowBirthThumb thumbnail = new GoogleNowBirthThumb(getContext());
         thumbnail.setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=250");
+        thumbnail.setErrorResource(R.drawable.ic_ic_error_loading);
         addCardThumbnail(thumbnail);
     }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/cards/MayKnowCard.java
Patch:
@@ -56,6 +56,7 @@ private void init() {
         //Add Thumbnail
         CardThumbnail thumbnail = new CardThumbnail(getContext());
         thumbnail.setUrlResource("https://plus.google.com/s2/photos/profile/114432517923423045208?sz=72");
+        thumbnail.setErrorResource(R.drawable.ic_error_loadingsmall);
         addCardThumbnail(thumbnail);
 
         OnCardClickListener clickListener = new OnCardClickListener() {

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/cards/SuggestedCard.java
Patch:
@@ -63,6 +63,7 @@ public void onClick(Card card, View view) {
         //Add thumbnail
         CardThumbnail thumb = new SuggestedCardThumb(getContext());
         thumb.setUrlResource("https://lh5.googleusercontent.com/-N8bz9q4Kz0I/AAAAAAAAAAI/AAAAAAAAAAs/Icl2bQMyK7c/s265-c-k-no/photo.jpg");
+        thumb.setErrorResource(R.drawable.ic_error_loadingorangesmall);
         addCardThumbnail(thumb);
     }
 

File: demo/stock/src/main/java/it/gmariotti/cardslib/demo/fragment/BirthDayCardFragment.java
Patch:
@@ -165,6 +165,7 @@ public void onReceive(Context context, Intent intent) {
             if (extras!=null){
                 boolean result = extras.getBoolean(Constants.IntentManager.INTENT_ACTION_IMAGE_DOWNLOADED_EXTRA_RESULT);
                 String id = extras.getString(Constants.IntentManager.INTENT_ACTION_IMAGE_DOWNLOADED_EXTRA_CARD_ID);
+                boolean processError = extras.getBoolean(Constants.IntentManager.INTENT_ACTION_IMAGE_DOWNLOADED_EXTRA_ERROR_LOADING);
                 if (result){
                     if (id!=null && id.equalsIgnoreCase(birthCard.getId())){
                         updateIntentToShare();

File: library/src/main/java/it/gmariotti/cardslib/library/internal/CardArrayAdapter.java
Patch:
@@ -22,7 +22,7 @@
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
-import android.widget.ListView;
+import android.widget.AbsListView;
 
 import java.util.List;
 
@@ -196,7 +196,7 @@ public boolean canDismiss(int position, Card card) {
         }
 
         @Override
-        public void onDismiss(ListView listView, int[] reverseSortedPositions) {
+        public void onDismiss(AbsListView listView, int[] reverseSortedPositions) {
             for (int position : reverseSortedPositions) {
                 Card card = getItem(position);
                 if (card.getOnSwipeListener() != null)

File: library/src/main/java/it/gmariotti/cardslib/library/view/CardView.java
Patch:
@@ -320,7 +320,9 @@ public boolean onPreDraw() {
                                     final int heightSpec = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED);
                                     mInternalExpandLayout.measure(widthSpec, heightSpec);
 
-                                    mCollapsedHeight = mInternalExpandLayout.getMeasuredHeight();
+                                    final int widthSpecCard = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED);
+                                    final int heightSpecCard = View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED);
+                                    mCollapsedHeight = getMeasuredHeight();
 
                                     mExpandAnimator = createSlideAnimator(0, mInternalExpandLayout.getMeasuredHeight());
                                     return true;

