File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/MainActivity.java
Patch:
@@ -19,7 +19,6 @@
 import android.widget.ImageView;
 import android.widget.TextView;
 
-import com.tencent.bugly.crashreport.CrashReport;
 import com.thirtydegreesray.dataautoaccess.annotation.AutoAccess;
 import com.thirtydegreesray.openhub.AppData;
 import com.thirtydegreesray.openhub.R;
@@ -114,8 +113,6 @@ protected void setupActivityComponent(AppComponent appComponent) {
     protected void initActivity() {
         super.initActivity();
         if (AppData.INSTANCE.getLoggedUser() != null)
-            CrashReport.putUserData(getApplicationContext(),
-                    "GitHubId", AppData.INSTANCE.getLoggedUser().getLogin());
 
         setStartDrawerEnable(true);
         setEndDrawerEnable(true);

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/RepositoriesPresenter.java
Patch:
@@ -405,9 +405,9 @@ private Repository parseCollectionsRepositoryData(Element element) throws Except
         String starNumStr =  numElement.select("a").get(0).textNodes().get(1).toString();
         String forkNumStr =  numElement.select("a").get(1).textNodes().get(1).toString();
         String language = "";
-        Elements languageElements = numElement.select("span > span");
+        Elements languageElements = numElement.select("span > span > span");
         if(languageElements.size() > 0){
-            language = numElement.select("span > span").get(1).textNodes().get(0).toString();
+            language = numElement.select("span > span > span").get(1).textNodes().get(0).toString();
         }
 
         Repository repo = new Repository();

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/TopicsPresenter.java
Patch:
@@ -131,8 +131,8 @@ private ArrayList<Topic> getFeaturedTopics(Document doc) throws Exception{
         for (Element element : topElements) {
             Element idElement = element.select("a").first();
             Element imageElement = element.select("a > img").first();
-            Element titleElement = element.select("a > div > div > p").get(0);
-            Element descElement = element.select("a > div > div > p").get(1);
+            Element titleElement = element.select("div > a > div > p").get(0);
+            Element descElement = element.select("div > a > div > p").get(1);
 
             String id = idElement.attr("href");
             id = id.substring(id.lastIndexOf("/") + 1);

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/TrendingPresenter.java
Patch:
@@ -63,7 +63,7 @@ public ArrayList<TrendingLanguage> getLanguages() {
 
     private ArrayList<TrendingLanguage> getFixedLanguages(){
         ArrayList<TrendingLanguage> fixedLanguages = new ArrayList<>();
-        fixedLanguages.add(new TrendingLanguage(getString(R.string.all_languages), "all"));
+        fixedLanguages.add(new TrendingLanguage(getString(R.string.all_languages), ""));
         fixedLanguages.add(new TrendingLanguage(getString(R.string.unknown_languages), "unknown"));
         return fixedLanguages;
     }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/RepositoriesPresenter.java
Patch:
@@ -463,7 +463,7 @@ private void parseTrendingPageData(String page){
                     ArrayList<Repository> repos = new ArrayList<>();
                     try {
                         Document doc = Jsoup.parse(s, AppConfig.GITHUB_BASE_URL);
-                        Elements elements = doc.getElementsByClass("col-12 d-block width-full py-4 border-bottom");
+                        Elements elements = doc.getElementsByClass("Box-row");
                         if(elements.size() != 0){
                             for (Element element : elements) {
                                 try{
@@ -498,12 +498,12 @@ private void parseTrendingPageData(String page){
     }
 
     private Repository parseTrendingRepositoryData(Element element) throws Exception{
-        String fullName = element.select("div > h3 > a").attr("href");
+        String fullName = element.select("h1 > a").attr("href");
         fullName = fullName.substring(1);
         String owner = fullName.substring(0, fullName.lastIndexOf("/"));
         String repoName = fullName.substring(fullName.lastIndexOf("/") + 1);
 
-        Element descElement = element.select("div > p").first();
+        Element descElement = element.getElementsByClass("col-9 text-gray my-1 pr-4").first();
         StringBuilder desc = new StringBuilder("");
         for(TextNode textNode : descElement.textNodes()){
             desc.append(textNode.getWholeText());

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/TopicsPresenter.java
Patch:
@@ -77,7 +77,6 @@ private void parsePageData(String page) {
                         Document doc = Jsoup.parse(s, AppConfig.GITHUB_BASE_URL);
                         //top three topics
                         topics.addAll(getTopTopics(doc));
-                        //featured tops
                         topics.addAll(getFeaturedTopics(doc));
                     } catch (Exception e) {
                         e.printStackTrace();
@@ -132,8 +131,8 @@ private ArrayList<Topic> getFeaturedTopics(Document doc) throws Exception{
         for (Element element : topElements) {
             Element idElement = element.select("a").first();
             Element imageElement = element.select("a > img").first();
-            Element titleElement = element.select("a > div > p").get(0);
-            Element descElement = element.select("a > div > p").get(1);
+            Element titleElement = element.select("a > div > div > p").get(0);
+            Element descElement = element.select("a > div > div > p").get(1);
 
             String id = idElement.attr("href");
             id = id.substring(id.lastIndexOf("/") + 1);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/widget/webview/HtmlHelper.java
Patch:
@@ -100,7 +100,9 @@ static String generateMdHtml(@NonNull String mdSource, @Nullable String baseUrl,
                                  boolean isDark, @NonNull String backgroundColor,
                                  @NonNull String accentColor, boolean wrapCode) {
         String skin = isDark ? "markdown_dark.css" : "markdown_white.css";
-        mdSource = StringUtils.isBlank(baseUrl) ? fixWikiLinks(mdSource) : fixLinks(mdSource, baseUrl);
+        mdSource = StringUtils.isBlank(baseUrl) ? mdSource : fixLinks(mdSource, baseUrl);
+        //fix wiki inner url like this "href="/robbyrussell/oh-my-zsh/wiki/Themes"" 
+        mdSource = fixWikiLinks(mdSource);
         return generateMdHtml(mdSource, skin, backgroundColor, accentColor, wrapCode);
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/util/StringUtils.java
Patch:
@@ -64,6 +64,9 @@ public static String getSizeString(long size){
         }else if(size < 1024 * 1024 * 1024){
             float sizeM = size / (1024f * 1024f);
             return String.format(Locale.getDefault(), "%.2f MB", sizeM);
+        }else if(size / 1024 < 1024 * 1024 * 1024){
+            float sizeG = size / (1024f * 1024f * 1024f);
+            return String.format(Locale.getDefault(), "%.2f GB", sizeG);
         }
         return null;
     }

File: app/src/main/java/com/thirtydegreesray/openhub/util/StringUtils.java
Patch:
@@ -64,6 +64,9 @@ public static String getSizeString(long size){
         }else if(size < 1024 * 1024 * 1024){
             float sizeM = size / (1024f * 1024f);
             return String.format(Locale.getDefault(), "%.2f MB", sizeM);
+        }else if(size / 1024 < 1024 * 1024 * 1024){
+            float sizeG = size / (1024f * 1024f * 1024f);
+            return String.format(Locale.getDefault(), "%.2f GB", sizeG);
         }
         return null;
     }

File: app/src/main/java/com/thirtydegreesray/openhub/util/AppUtils.java
Patch:
@@ -99,7 +99,7 @@ public static Locale getLocale(String language) {
 
     public static boolean isNightMode() {
         String theme = PrefUtils.getTheme();
-        return PrefUtils.DARK.equals(theme) || PrefUtils.AMOLED_Dark.equals(theme);
+        return PrefUtils.DARK.equals(theme) || PrefUtils.AMOLED_DARK.equals(theme);
     }
 
     public static void copyToClipboard(@NonNull Context context, @NonNull String uri) {

File: app/src/main/java/com/thirtydegreesray/openhub/util/PrefUtils.java
Patch:
@@ -22,7 +22,7 @@ public class PrefUtils {
     public final static String LIGHT_INDIGO = "Light indigo";
     public final static String DARK = "Dark";
     public final static String LIGHT_TEAL = "Light teal";
-    public final static String AMOLED_Dark = "AMOLED dark";
+    public final static String AMOLED_DARK = "AMOLED dark";
 
     public final static int LIGHT_BLUE = 0;
     public final static int BLUE = 1;

File: app/src/main/java/com/thirtydegreesray/openhub/util/ThemeHelper.java
Patch:
@@ -38,7 +38,7 @@ public static int getAboutTheme(String theme){
                 return R.style.ThemeLight_AboutActivity;
             case PrefUtils.DARK:
                 return R.style.ThemeDark_AboutActivity;
-            case PrefUtils.AMOLED_Dark:
+            case PrefUtils.AMOLED_DARK:
                 return R.style.ThemeAmoledDark_AboutActivity;
             default:
                 return R.style.ThemeLightTeal_AboutActivity;
@@ -162,7 +162,7 @@ public static int getTheme(String theme, int accentColor){
                     case PrefUtils.DEEP_PURPLE:
                         return R.style.ThemeDark_DeepPurple;
                 }
-            case PrefUtils.AMOLED_Dark:
+            case PrefUtils.AMOLED_DARK:
                 switch (accentColor){
                     case PrefUtils.LIGHT_BLUE:
                         return R.style.ThemeAmoledDark_LightBlue;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/IssueTimelineAdapter.java
Patch:
@@ -183,9 +183,9 @@ public void onUserClicked() {
 
         void setData(IssueEvent model, int position) {
             GlideApp.with(fragment)
-                    .load(model.getActor().getAvatarUrl())
-                    .onlyRetrieveFromCache(!PrefUtils.isLoadImageEnable())
-                    .into(userAvatar);
+                .load(model.getActor().getAvatarUrl())
+                .onlyRetrieveFromCache(!PrefUtils.isLoadImageEnable())
+                .into(userAvatar);
             setEventIcon(model);
             setDesc(model);
             setMargin(model, position);

File: app/src/main/java/com/thirtydegreesray/openhub/http/GitHubWebPageService.java
Patch:
@@ -45,7 +45,7 @@ Observable<Response<ResponseBody>> getTopics(
     @NonNull @GET("trending/{language}")
     Observable<Response<ResponseBody>> getTrendingRepos(
             @Header("forceNetWork") boolean forceNetWork,
-            @Path("language") String language,
+            @Path(value = "language", encoded = true) String language,
             @Query("since") String since
     );
 

File: app/src/main/java/com/thirtydegreesray/openhub/http/core/AppRetrofit.java
Patch:
@@ -94,7 +94,8 @@ public Response intercept(@NonNull Chain chain) throws IOException {
             Request request = chain.request();
 
             //add unique login id in url to differentiate caches
-            if(AppData.INSTANCE.getLoggedUser() != null){
+            if(AppData.INSTANCE.getLoggedUser() != null
+                    && !AppConfig.isCommonPageUrl(request.url().toString())){
                 HttpUrl url = request.url().newBuilder()
                         .addQueryParameter("uniqueLoginId",
                                 AppData.INSTANCE.getLoggedUser().getLogin())

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/MainActivity.java
Patch:
@@ -392,7 +392,9 @@ private void handlerEndDrawerClick(MenuItem item) {
     @Override
     protected void onDestroy() {
         super.onDestroy();
-        newYearWishesDialog.cancel();
+        if(newYearWishesDialog != null){
+            newYearWishesDialog.cancel();
+        }
     }
 
     private boolean isManageAccount = false;

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/IssueTimelinePresenter.java
Patch:
@@ -113,9 +113,8 @@ public void onSuccess(HttpResponse<ArrayList<IssueEvent>> response) {
                 }
                 if(response.body().size() == 0 && timeline.size() != 0){
                     mView.setCanLoadMore(false);
-                } else {
-                    mView.showTimeline(timeline);
                 }
+                mView.showTimeline(timeline);
             }
         };
         generalRxHttpExecute(new IObservableCreator<ArrayList<IssueEvent>>() {

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/IssueDetailPresenter.java
Patch:
@@ -115,7 +115,9 @@ public void onError(Throwable error) {
             @Override
             public void onSuccess(HttpResponse<IssueEvent> response) {
                 mView.showSuccessToast(getString(R.string.comment_success));
-                mView.showAddedComment(response.body());
+                IssueEvent comment = response.body();
+                comment.setType(IssueEvent.Type.commented);
+                mView.showAddedComment(comment);
             }
         };
         generalRxHttpExecute(new IObservableCreator<IssueEvent>() {

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/RepositoriesPresenter.java
Patch:
@@ -123,7 +123,7 @@ protected void loadData() {
     public void loadRepositories(final boolean isReLoad, final int page) {
         filter = getFilter();
         if (type.equals(RepositoriesFragment.RepositoriesType.SEARCH)) {
-
+            searchRepos(page);
             return;
         }
         if (RepositoriesFragment.RepositoriesType.TRACE.equals(type)) {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/base/ListFragment.java
Patch:
@@ -53,7 +53,7 @@ public abstract class ListFragment <P extends IBaseContract.Presenter, A extends
     private boolean refreshEnable = true;
     private boolean loadMoreEnable = false;
     private boolean canLoadMore = false;
-    private boolean autoJudgeCanLoadMoreEnable = false;
+    private boolean autoJudgeCanLoadMoreEnable = true;
     private boolean isLoading = false;
     private final int DEFAULT_PAGE_SIZE = 30;
 

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/IssueTimelineFragment.java
Patch:
@@ -44,6 +44,7 @@ public static IssueTimelineFragment create(@NonNull Issue issue){
     protected void initFragment(Bundle savedInstanceState) {
         super.initFragment(savedInstanceState);
         setLoadMoreEnable(true);
+        setAutoJudgeCanLoadMoreEnable(false);
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/http/IssueService.java
Patch:
@@ -2,6 +2,7 @@
 
 import android.support.annotation.NonNull;
 
+import com.thirtydegreesray.openhub.http.model.IssueRequestModel;
 import com.thirtydegreesray.openhub.mvp.model.Issue;
 import com.thirtydegreesray.openhub.mvp.model.IssueEvent;
 import com.thirtydegreesray.openhub.mvp.model.Label;
@@ -129,7 +130,7 @@ Observable<Response<Issue>> editIssue(
             @Path("owner") String owner,
             @Path("repo") String repo,
             @Path("issueNumber") int issueNumber,
-            @Body Issue body
+            @Body IssueRequestModel body
     );
 
     @NonNull @POST("repos/{owner}/{repo}/issues")

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/IssueDetailPresenter.java
Patch:
@@ -8,6 +8,7 @@
 import com.thirtydegreesray.openhub.http.core.HttpObserver;
 import com.thirtydegreesray.openhub.http.core.HttpProgressSubscriber;
 import com.thirtydegreesray.openhub.http.core.HttpResponse;
+import com.thirtydegreesray.openhub.http.model.IssueRequestModel;
 import com.thirtydegreesray.openhub.mvp.contract.IIssueDetailContract;
 import com.thirtydegreesray.openhub.mvp.model.Issue;
 import com.thirtydegreesray.openhub.mvp.model.IssueEvent;
@@ -148,7 +149,8 @@ public void onSuccess(HttpResponse<Issue> response) {
                 }
         );
         generalRxHttpExecute(getIssueService().editIssue(issue.getRepoAuthorName(),
-                issue.getRepoName(), issue.getNumber(), issue), subscriber);
+                issue.getRepoName(), issue.getNumber(),
+                IssueRequestModel.generateFromIssue(issue)), subscriber);
     }
 
     public String getOwner() {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/IssueTimelineFragment.java
Patch:
@@ -174,10 +174,11 @@ public void onEditComment(String body) {
     }
 
     public void onEditIssue(Issue issue){
+        mPresenter.setIssue(issue);
         adapter.getData().get(0).setBody(issue.getBody());
         adapter.getData().get(0).setBodyHtml(issue.getBodyHtml());
+        adapter.getData().get(0).setParentIssue(issue);
         adapter.notifyItemChanged(0);
-        mPresenter.setIssue(issue);
     }
 
     public ArrayList<String> getIssueUsersExceptMe(){

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/FragmentComponent.java
Patch:
@@ -5,6 +5,7 @@
 import com.thirtydegreesray.openhub.inject.FragmentScope;
 import com.thirtydegreesray.openhub.inject.module.FragmentModule;
 import com.thirtydegreesray.openhub.ui.fragment.CollectionsFragment;
+import com.thirtydegreesray.openhub.ui.fragment.LabelManageFragment;
 import com.thirtydegreesray.openhub.ui.fragment.LanguagesEditorFragment;
 import com.thirtydegreesray.openhub.ui.fragment.ActivityFragment;
 import com.thirtydegreesray.openhub.ui.fragment.BookmarksFragment;
@@ -54,4 +55,5 @@ public interface FragmentComponent {
     void inject(WikiFragment fragment);
     void inject(CollectionsFragment fragment);
     void inject(TopicsFragment fragment);
+    void inject(LabelManageFragment fragment);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/ActivitiesAdapter.java
Patch:
@@ -244,7 +244,7 @@ void setActionAndDesc(Event model) {
                 desc.setVisibility(View.GONE);
             }
 
-            actionStr = StringUtils.upCaseFisrtChar(actionStr);
+            actionStr = StringUtils.upCaseFirstChar(actionStr);
             actionStr = actionStr == null ? "" : actionStr;
             SpannableStringBuilder span = new SpannableStringBuilder(actionStr);
             Matcher matcher = GitHubHelper.REPO_FULL_NAME_PATTERN.matcher(actionStr);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/widget/colorChooser/ColorChooserPreference.java
Patch:
@@ -75,6 +75,8 @@ protected void onClick() {
                 .customColors(getAccentColors(), null)
                 .preselect(oriColor)
                 .customButton(0)
+                .doneButton(0)
+                .cancelButton(0)
                 .accentMode(true)
                 .show();
     }
@@ -86,6 +88,7 @@ public void onColorSelection(@NonNull ColorChooserDialog dialog, @ColorInt int s
         if (colorChooserCallback != null && oriColor != selectedColor) {
             colorChooserCallback.onColorChanged(oriColor, selectedColor);
         }
+        dialog.dismiss();
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/util/StringUtils.java
Patch:
@@ -99,7 +99,7 @@ public static String getNewsTimeStr(@NonNull Context context, @NonNull Date date
             return getDateStr(date);
     }
 
-    public static String upCaseFisrtChar(String str){
+    public static String upCaseFirstChar(String str){
         if(isBlank(str)) return null;
         return str.substring(0, 1).toUpperCase().concat(str.substring(1));
     }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/base/ListFragment.java
Patch:
@@ -232,7 +232,7 @@ public void scrollToTop() {
     }
 
     protected void postNotifyDataSetChanged(){
-        recyclerView.post(() -> adapter.notifyDataSetChanged());
+        adapter.notifyDataSetChanged();
     }
 
     private ListScrollListener mListScrollListener;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ViewerFragment.java
Patch:
@@ -220,6 +220,7 @@ public void onContentChanged(int progress) {
                 loader.setVisibility(View.GONE);
                 //delay 300 mills, in case of content height unavailable
                 webView.postDelayed(() -> {
+                    if(webView == null) return;
                     int scrollY = (int) (webView.getContentHeight() * scrollYPercent);
                     webView.scrollTo(0, scrollY);
                 }, 300);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/widget/webview/HtmlHelper.java
Patch:
@@ -147,7 +147,9 @@ private static String fixLinks(@NonNull String source, @NonNull String baseUrl)
         Matcher linksMatcher = LINK_PATTERN.matcher(source);
         while (linksMatcher.find()) {
             String oriUrl = linksMatcher.group(1);
-            if (oriUrl.contains("http://") || oriUrl.contains("https://")) {
+            if (oriUrl.contains("http://") || oriUrl.contains("https://")
+                    || oriUrl.startsWith("#") //filter markdown inner link
+                    ) {
                 continue;
             }
 

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/base/BasePresenter.java
Patch:
@@ -271,8 +271,6 @@ public void onError(Throwable error) {
 
             @Override
             public void onSuccess(@NonNull HttpResponse<T> response) {
-                Logger.d(TAG, "get data ok:" + System.currentTimeMillis());
-                Logger.d(TAG, "data:" + response.body());
                 if (response.isSuccessful()) {
                     if (readCacheFirst && response.isFromCache()
                             && NetHelper.INSTANCE.getNetEnabled()
@@ -299,7 +297,6 @@ public void onSuccess(@NonNull HttpResponse<T> response) {
 //        cacheFirstEnable = cacheFirstEnable || !NetHelper.INSTANCE.getNetEnabled();
         generalRxHttpExecute(observableCreator.createObservable(!cacheFirstEnable || !readCacheFirst),
                 getHttpSubscriber(tempObserver, progressDialog));
-        Logger.d(TAG, "get date start:" + System.currentTimeMillis());
     }
 
     private <T> HttpSubscriber<T> getHttpSubscriber(HttpObserver<T> httpObserver, ProgressDialog progressDialog) {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/AboutActivity.java
Patch:
@@ -84,7 +84,7 @@ private void buildApp(MaterialAboutCard.Builder appBuilder, final Context contex
         appBuilder.addItem(new MaterialAboutTitleItem.Builder()
                 .text(getString(R.string.app_name))
                 .desc(getString(R.string.app_copyright))
-                .icon(R.mipmap.logo_big)
+                .icon(R.mipmap.logo)
                 .build());
         appBuilder.addItem(new MaterialAboutActionItem.Builder()
                 .text(R.string.version)

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ActivityFragment.java
Patch:
@@ -226,7 +226,7 @@ protected void onLoadMore(int page) {
     @Override
     public void showEvents(ArrayList<Event> events) {
         adapter.setData(events);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
         if(getCurPage() == 2 && PrefUtils.isActivityLongClickTipAble()){
             showOperationTip(R.string.activity_click_tip);
             PrefUtils.set(PrefUtils.ACTIVITY_LONG_CLICK_TIP_ABLE, false);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/CommitFilesFragment.java
Patch:
@@ -68,7 +68,7 @@ protected void initFragment(Bundle savedInstanceState) {
         setRefreshEnable(false);
         if(commitFiles != null){
             adapter.setData(mPresenter.getSortedList(commitFiles));
-            adapter.notifyDataSetChanged();
+            postNotifyDataSetChanged();
         }
     }
 
@@ -88,7 +88,7 @@ public void onItemClick(int position, @NonNull View view) {
     public void showCommitFiles(@NonNull ArrayList<CommitFile> commitFiles){
         this.commitFiles = commitFiles;
         adapter.setData(mPresenter.getSortedList(commitFiles));
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
     }
 
 }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/CommitsFragment.java
Patch:
@@ -57,7 +57,7 @@ protected void initFragment(Bundle savedInstanceState) {
     @Override
     public void showCommits(ArrayList<RepoCommit> commits) {
         adapter.setData(commits);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/IssueTimelineFragment.java
Patch:
@@ -49,7 +49,7 @@ protected void initFragment(Bundle savedInstanceState) {
     @Override
     public void showTimeline(ArrayList<IssueEvent> events) {
         adapter.setData(events);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
     }
 
     @Override
@@ -103,7 +103,7 @@ public void onItemClick(int position, @NonNull View view) {
 
     public void addComment(IssueEvent event){
         mPresenter.getTimeline().add(event);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
         recyclerView.smoothScrollToPosition(adapter.getItemCount() - 1);
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/IssuesFragment.java
Patch:
@@ -79,7 +79,7 @@ protected String getEmptyTip() {
     @Override
     public void showIssues(ArrayList<Issue> issues) {
         adapter.setData(issues);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/NotificationsFragment.java
Patch:
@@ -52,7 +52,7 @@ protected void initFragment(Bundle savedInstanceState) {
     @Override
     public void showNotifications(ArrayList<DoubleTypesModel<Repository, Notification>> notifications) {
         adapter.setData(notifications);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ReleasesFragment.java
Patch:
@@ -37,7 +37,7 @@ public static ReleasesFragment create(String owner, String repo){
     @Override
     public void showReleases(ArrayList<Release> releases) {
         adapter.setData(releases);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
         if(getCurPage() == 1 && !StringUtils.isBlankList(releases)
                 && PrefUtils.isReleasesLongClickTipAble()){
             showOperationTip(R.string.releases_click_tip);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/RepoFilesFragment.java
Patch:
@@ -53,7 +53,7 @@ public static RepoFilesFragment create(Repository repository) {
     @Override
     public void showFiles(ArrayList<FileModel> files) {
         adapter.setData(files);
-        adapter.notifyDataSetChanged();
+        postNotifyDataSetChanged();
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/LanguagesEditorPresenter.java
Patch:
@@ -108,6 +108,7 @@ public int getListSelectedLanguageCount() {
     private void loadSelectedLanguages(){
         languages = getSelectedLanguages();
         mView.showLanguages(languages);
+        mView.hideLoading();
     }
 
     private void loadAllLanguages(){

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/LanguagesEditorFragment.java
Patch:
@@ -51,7 +51,6 @@ public static LanguagesEditorFragment createForChoose(@NonNull LanguagesEditorAc
     protected void initFragment(Bundle savedInstanceState) {
         super.initFragment(savedInstanceState);
         setHasOptionsMenu(true);
-        setRefreshEnable(false);
         setCanLoadMore(false);
         if(LanguagesEditorActivity.LanguageEditorMode.Sort.equals(mPresenter.getMode())){
             ItemTouchHelperCallback callback = new ItemTouchHelperCallback(
@@ -82,7 +81,7 @@ protected void setupFragmentComponent(AppComponent appComponent) {
 
     @Override
     protected void onReLoadData() {
-
+        mPresenter.loadLanguages();
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/BookmarkPresenter.java
Patch:
@@ -17,7 +17,6 @@
 import javax.inject.Inject;
 
 import rx.android.schedulers.AndroidSchedulers;
-import rx.schedulers.Schedulers;
 
 /**
  * Created by ThirtyDegreesRay on 2017/11/22 15:59:45
@@ -81,13 +80,14 @@ public void loadBookmarks(int page) {
     public void removeBookmark(int position) {
         removedBookmark = bookmarks.remove(position);
         removedPosition = position;
-        daoSession.getBookmarkDao().deleteByKey(removedBookmark.getId());
+        rxDBExecute(() -> daoSession.getBookmarkDao().deleteByKey(removedBookmark.getId()));
     }
 
     @Override
     public void undoRemoveBookmark() {
         bookmarks.add(removedPosition, removedBookmark);
-        daoSession.getBookmarkDao().insert(removedBookmark);
         mView.notifyItemAdded(removedPosition);
+        rxDBExecute(() -> daoSession.getBookmarkDao().insert(removedBookmark));
     }
+
 }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/TracePresenter.java
Patch:
@@ -79,14 +79,14 @@ public void loadTraceList(int page) {
     public void removeTrace(int position) {
         removedTrace = traceList.remove(position);
         removedPosition = position;
-        daoSession.getTraceDao().deleteByKey(removedTrace.getId());
+        rxDBExecute(() -> daoSession.getTraceDao().deleteByKey(removedTrace.getId()));
     }
 
     @Override
     public void undoRemoveTrace() {
         traceList.add(removedPosition, removedTrace);
-        daoSession.getTraceDao().insert(removedTrace);
         mView.notifyItemAdded(removedPosition);
+        rxDBExecute(() -> daoSession.getTraceDao().insert(removedTrace));
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/RepositoryActivity.java
Patch:
@@ -32,7 +32,7 @@
 import com.thirtydegreesray.openhub.mvp.presenter.RepositoryPresenter;
 import com.thirtydegreesray.openhub.ui.activity.base.PagerActivity;
 import com.thirtydegreesray.openhub.ui.adapter.BranchesAdapter;
-import com.thirtydegreesray.openhub.ui.adapter.base.BaseAdapter;
+import com.thirtydegreesray.openhub.ui.adapter.base.BaseViewHolder;
 import com.thirtydegreesray.openhub.ui.adapter.base.FragmentPagerModel;
 import com.thirtydegreesray.openhub.ui.fragment.ActivityFragment;
 import com.thirtydegreesray.openhub.ui.fragment.CommitsFragment;
@@ -240,7 +240,7 @@ public void onClick(DialogInterface dialog, int which) {
                 })
                 .show();
 
-        branchesAdapter.setOnItemClickListener(new BaseAdapter.OnItemClickListener() {
+        branchesAdapter.setOnItemClickListener(new BaseViewHolder.OnItemClickListener() {
             @Override
             public void onItemClick(int position, @NonNull View view) {
                 Branch branch = list.get(position);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/base/ListActivity.java
Patch:
@@ -11,6 +11,7 @@
 import com.thirtydegreesray.openhub.R;
 import com.thirtydegreesray.openhub.mvp.contract.base.IBaseContract;
 import com.thirtydegreesray.openhub.ui.adapter.base.BaseAdapter;
+import com.thirtydegreesray.openhub.ui.adapter.base.BaseViewHolder;
 
 import javax.inject.Inject;
 
@@ -24,8 +25,8 @@
 
 public abstract class ListActivity <P extends IBaseContract.Presenter, A extends BaseAdapter>
         extends BaseActivity<P> implements IBaseContract.View,
-        BaseAdapter.OnItemClickListener,
-        BaseAdapter.OnItemLongClickListener {
+        BaseViewHolder.OnItemClickListener,
+        BaseViewHolder.OnItemLongClickListener {
 
     @BindView(R.id.recycler_view) protected RecyclerView recyclerView;
     @Inject protected A adapter;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/NotificationsAdapter.java
Patch:
@@ -36,7 +36,7 @@
  * Created by ThirtyDegreesRay on 2017/11/6 20:05:32
  */
 
-public class NotificationsAdapter extends BaseAdapter<RecyclerView.ViewHolder,
+public class NotificationsAdapter extends BaseAdapter<BaseViewHolder,
         DoubleTypesModel<Repository, Notification>> {
 
     @Inject
@@ -54,7 +54,7 @@ protected int getLayoutId(int viewType) {
     }
 
     @Override
-    protected RecyclerView.ViewHolder getViewHolder(View itemView, int viewType) {
+    protected BaseViewHolder getViewHolder(View itemView, int viewType) {
         if(viewType == 0){
             return new RepoViewHolder(itemView);
         } else {
@@ -68,7 +68,7 @@ public int getItemViewType(int position) {
     }
 
     @Override
-    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder viewHolder, int position) {
+    public void onBindViewHolder(@NonNull BaseViewHolder viewHolder, int position) {
         super.onBindViewHolder(viewHolder, position);
         if(viewHolder instanceof RepoViewHolder){
             RepoViewHolder holder = (RepoViewHolder) viewHolder;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/SettingsAdapter.java
Patch:
@@ -29,6 +29,7 @@
 public class SettingsAdapter extends BaseAdapter<SettingsAdapter.ViewHolder, SettingModel> {
 
     private ItemEventListener itemEventListener;
+    private final int TAG_POSITION = R.id.position_tag;
 
     @Inject
     public SettingsAdapter(Context context) {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/TraceAdapter.java
Patch:
@@ -34,7 +34,7 @@
  * Created by ThirtyDegreesRay on 2017/11/23 10:35:13
  */
 
-public class TraceAdapter extends BaseAdapter<RecyclerView.ViewHolder, TraceExt>
+public class TraceAdapter extends BaseAdapter<BaseViewHolder, TraceExt>
         implements StickyRecyclerHeadersAdapter<TraceAdapter.HeadViewHolder>{
 
     @Inject
@@ -52,7 +52,7 @@ protected int getLayoutId(int viewType) {
     }
 
     @Override
-    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {
+    public void onBindViewHolder(@NonNull BaseViewHolder holder, int position) {
         super.onBindViewHolder(holder, position);
         TraceExt model = data.get(position);
         if(getItemViewType(position) == 0){
@@ -91,7 +91,7 @@ public int getItemViewType(int position) {
     }
 
     @Override
-    protected RecyclerView.ViewHolder getViewHolder(View itemView, int viewType) {
+    protected BaseViewHolder getViewHolder(View itemView, int viewType) {
         if(viewType == 0){
             return new UserViewHolder(itemView);
         } else {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ProfileInfoFragment.java
Patch:
@@ -24,7 +24,7 @@
 import com.thirtydegreesray.openhub.ui.activity.RepoListActivity;
 import com.thirtydegreesray.openhub.ui.activity.UserListActivity;
 import com.thirtydegreesray.openhub.ui.adapter.UsersAdapter;
-import com.thirtydegreesray.openhub.ui.adapter.base.BaseAdapter;
+import com.thirtydegreesray.openhub.ui.adapter.base.BaseViewHolder;
 import com.thirtydegreesray.openhub.ui.fragment.base.BaseFragment;
 import com.thirtydegreesray.openhub.util.AppOpener;
 import com.thirtydegreesray.openhub.util.BundleHelper;
@@ -44,7 +44,7 @@
 
 public class ProfileInfoFragment extends BaseFragment<ProfileInfoPresenter>
         implements IProfileInfoContract.View,
-        BaseAdapter.OnItemClickListener{
+        BaseViewHolder.OnItemClickListener{
 
     @BindView(R.id.name) TextView name;
     @BindView(R.id.bio) TextView bio;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/base/ListFragment.java
Patch:
@@ -15,6 +15,7 @@
 import com.thirtydegreesray.openhub.R;
 import com.thirtydegreesray.openhub.mvp.contract.base.IBaseContract;
 import com.thirtydegreesray.openhub.ui.adapter.base.BaseAdapter;
+import com.thirtydegreesray.openhub.ui.adapter.base.BaseViewHolder;
 import com.thirtydegreesray.openhub.util.NetHelper;
 import com.thirtydegreesray.openhub.util.PrefUtils;
 import com.thirtydegreesray.openhub.util.ViewUtils;
@@ -32,8 +33,8 @@
 
 public abstract class ListFragment <P extends IBaseContract.Presenter, A extends BaseAdapter>
         extends BaseFragment<P> implements IBaseContract.View,
-        BaseAdapter.OnItemClickListener,
-        BaseAdapter.OnItemLongClickListener,
+        BaseViewHolder.OnItemClickListener,
+        BaseViewHolder.OnItemLongClickListener,
         SwipeRefreshLayout.OnRefreshListener{
 
     @BindView(R.id.refresh_layout) protected SwipeRefreshLayout refreshLayout;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/widget/webview/CodeWebView.java
Patch:
@@ -24,8 +24,9 @@
 import com.thirtydegreesray.openhub.util.ViewUtils;
 
 /**
- * Created by Kosh on 2017/8/20 12:10:56
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/8/20 12:10:56
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class CodeWebView extends WebView {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/widget/webview/HtmlHelper.java
Patch:
@@ -15,8 +15,9 @@
 import java.util.regex.Pattern;
 
 /**
- * Created by Kosh on 2017/8/20 12:58:43
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/8/20 12:58:43
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 class HtmlHelper {

File: app/src/main/java/com/thirtydegreesray/openhub/util/AppUtils.java
Patch:
@@ -26,8 +26,9 @@
 import es.dmoral.toasty.Toasty;
 
 /**
- * Created by Kosh on 2017/10/30 11:23:03
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/10/30 11:23:03
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class AppUtils {

File: app/src/main/java/com/thirtydegreesray/openhub/util/BundleHelper.java
Patch:
@@ -15,8 +15,9 @@
 import java.util.ArrayList;
 
 /**
- * Created by Kosh on 2017/10/30 9:42:40
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/10/30 9:42:40
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class BundleHelper {

File: app/src/main/java/com/thirtydegreesray/openhub/util/GitHubHelper.java
Patch:
@@ -9,8 +9,9 @@
 import java.util.regex.Pattern;
 
 /**
- * Created by Kosh on 2017/8/19 17:24:29
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/8/19 17:24:29
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class GitHubHelper {

File: app/src/main/java/com/thirtydegreesray/openhub/util/PrefUtils.java
Patch:
@@ -12,8 +12,9 @@
 import java.util.Set;
 
 /**
- * Created by Kosh on 2017/10/30 11:59:38
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/10/30 11:59:38
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class PrefUtils {

File: app/src/main/java/com/thirtydegreesray/openhub/util/ThemeHelper.java
Patch:
@@ -10,8 +10,9 @@
 import com.thirtydegreesray.openhub.ui.activity.base.BaseActivity;
 
 /**
- * Created by Kosh on 2017/10/30 13:26:25
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/10/30 13:26:25
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class ThemeHelper {

File: app/src/main/java/com/thirtydegreesray/openhub/util/ViewUtils.java
Patch:
@@ -19,8 +19,9 @@
 import com.thirtydegreesray.openhub.R;
 
 /**
- * Created by Kosh on 2017/8/1.
- * Copyright (C) 2017 Kosh.
+ * Created on 2017/8/1.
+ * Copied from Copyright (C) 2017 Kosh.
+ * Modified by Copyright (C) 2017 ThirtyDegreesRay.
  */
 
 public class ViewUtils {

File: app/src/main/java/com/thirtydegreesray/openhub/AppApplication.java
Patch:
@@ -18,6 +18,7 @@
 import com.thirtydegreesray.openhub.ui.activity.LoginActivity;
 import com.thirtydegreesray.openhub.ui.activity.MainActivity;
 import com.thirtydegreesray.openhub.ui.widget.UpgradeDialog;
+import com.thirtydegreesray.openhub.util.AppUtils;
 import com.thirtydegreesray.openhub.util.NetHelper;
 
 /**
@@ -43,6 +44,8 @@ public void onCreate() {
         application = this;
         //init application
         long startTime = System.currentTimeMillis();
+        //apply language for application context, bugly used it
+        AppUtils.updateAppLanguage(getApplicationContext());
         initLogger();
         Logger.t(TAG).i("startTime:" + startTime);
         mAppComponent = DaggerAppComponent.builder()
@@ -52,7 +55,6 @@ public void onCreate() {
         initBugly();
         startTime = System.currentTimeMillis();
         Logger.t(TAG).i("application ok:" + (System.currentTimeMillis() - startTime));
-
     }
 
     private void initLogger(){

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/base/BaseFragment.java
Patch:
@@ -23,6 +23,7 @@
 import com.thirtydegreesray.openhub.inject.component.AppComponent;
 import com.thirtydegreesray.openhub.mvp.contract.base.IBaseContract;
 import com.thirtydegreesray.openhub.ui.activity.LoginActivity;
+import com.thirtydegreesray.openhub.util.AppUtils;
 
 import javax.inject.Inject;
 
@@ -67,6 +68,8 @@ public BaseFragment() {
     @Override
     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,
                              @Nullable Bundle savedInstanceState) {
+        //some page contain WebView will make default language changed
+        AppUtils.updateAppLanguage(getActivity());
         View fragmentView = inflater.inflate(getLayoutId(), container, false);
         unbinder = ButterKnife.bind(this, fragmentView);
         initFragment(savedInstanceState);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/SettingsFragment.java
Patch:
@@ -158,5 +158,4 @@ public void onClick(DialogInterface dialog, int which) {
                 .show();
     }
 
-
 }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/widget/webview/HtmlHelper.java
Patch:
@@ -5,7 +5,6 @@
 import android.support.annotation.NonNull;
 import android.support.annotation.Nullable;
 
-import com.orhanobut.logger.Logger;
 import com.thirtydegreesray.openhub.mvp.model.GitHubName;
 import com.thirtydegreesray.openhub.util.GitHubHelper;
 import com.thirtydegreesray.openhub.util.StringUtils;
@@ -183,7 +182,7 @@ private static String generateDiffHtml(@NonNull String diffSource, @NonNull Stri
 
                     "<body>\n" +
                         "<pre class=\"pre\">\n" +
-                            parseDiffSource(diffSource, wrap) +
+                            parseDiffSource(formatCode(diffSource), wrap) +
                         "</pre>\n" +
                     "</body>\n" +
                 "</html>";

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/RepositoriesPresenter.java
Patch:
@@ -119,7 +119,9 @@ public Observable<Response<ArrayList<Repository>>> createObservable(boolean forc
     private Observable<Response<ArrayList<Repository>>> getObservable(boolean forceNetWork, int page) {
         switch (type) {
             case OWNED:
-                return getRepoService().getUserRepos(forceNetWork, user, page);
+                return getRepoService().getUserRepos(forceNetWork, page);
+            case PUBLIC:
+                return getRepoService().getUserPublicRepos(forceNetWork, user, page);
             case STARRED:
                 return getRepoService().getStarredRepos(forceNetWork, user, page);
             case TRENDING:

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/RepoListActivity.java
Patch:
@@ -61,7 +61,7 @@ protected RepositoriesFragment createFragment() {
     }
 
     private String getListTitle(){
-        if(type.equals(RepositoriesFragment.RepositoriesType.OWNED)){
+        if(type.equals(RepositoriesFragment.RepositoriesType.PUBLIC)){
             return getString(R.string.public_repositories);
         }else if(type.equals(RepositoriesFragment.RepositoriesType.STARRED)){
             return getString(R.string.starred_repositories);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/RepositoryActivity.java
Patch:
@@ -254,6 +254,7 @@ public void onClick(DialogInterface dialog, int which) {
                         showSuccessToast(getString(R.string.star_thanks));
                     }
                 })
+                .setCancelable(false)
                 .show();
         StarWishesHelper.addStarWishesTipTimes();
     }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ProfileInfoFragment.java
Patch:
@@ -107,7 +107,7 @@ public void onViewClicked(View view) {
                 break;
             case R.id.repos_lay:
                 if(mPresenter.getUser().getPublicRepos() == 0) return;
-                RepoListActivity.show(getContext(), RepositoriesFragment.RepositoriesType.OWNED,
+                RepoListActivity.show(getContext(), RepositoriesFragment.RepositoriesType.PUBLIC,
                         mPresenter.getUser().getLogin());
                 break;
             case R.id.gists_lay:

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/RepositoriesFragment.java
Patch:
@@ -35,7 +35,7 @@ public class RepositoriesFragment extends ListFragment<RepositoriesPresenter, Re
             implements IRepositoriesContract.View{
 
     public enum RepositoriesType{
-        OWNED, STARRED, TRENDING, SEARCH, FORKS
+        OWNED, PUBLIC, STARRED, TRENDING, SEARCH, FORKS
     }
 
     public static RepositoriesFragment create(@NonNull RepositoriesType type,

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/CommitDetailActivity.java
Patch:
@@ -139,7 +139,7 @@ public void showCommitInfo(RepoCommitExt commitExt) {
             getSupportFragmentManager()
                     .beginTransaction()
                     .add(R.id.container, commitFilesFragment)
-                    .commit();
+                    .commitAllowingStateLoss();
         }else{
             commitFilesFragment.showCommitFiles(commitExt.getFiles());
         }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/IssueDetailActivity.java
Patch:
@@ -175,7 +175,7 @@ public void run() {
                     getSupportFragmentManager()
                             .beginTransaction()
                             .add(R.id.container, issueTimelineFragment)
-                            .commit();
+                            .commitAllowingStateLoss();
                 }
             }, 500);
         }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/base/BaseActivity.java
Patch:
@@ -127,7 +127,6 @@ protected void onSaveInstanceState(Bundle outState) {
         if(curActivity.equals(this)){
             DataAutoAccess.saveData(AppData.INSTANCE, outState);
         }
-
     }
 
     @Override

File: app/src/main/java/com/thirtydegreesray/openhub/util/BundleHelper.java
Patch:
@@ -205,7 +205,7 @@ public BundleHelper put(@NonNull String key, @Nullable SparseArray<? extends Par
     public Bundle build(){
         Parcel parcel = Parcel.obtain();
         bundle.writeToParcel(parcel, 0);
-        if (parcel.dataSize() > 128 * 1024) {
+        if (parcel.dataSize() > 256 * 1024) {
             bundle.clear();
             throw new IllegalArgumentException("bundle data is too large, please reduce date size to avoid Exception");
         }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/model/GitHubName.java
Patch:
@@ -21,7 +21,7 @@
 
 import com.thirtydegreesray.openhub.util.GitHubHelper;
 
-import java.util.List;
+import java.util.ArrayList;
 
 /**
  * Created by ThirtyDegreesRay on 2017/10/30 13:49:02
@@ -40,7 +40,8 @@ public static GitHubName fromUrl(@NonNull String url){
         gitHubName.url = url;
         try{
             Uri uri = Uri.parse(url);
-            List<String> list = uri.getPathSegments();
+            ArrayList<String> list = new ArrayList<>(uri.getPathSegments());
+            list.remove("repos");
             if(list.size() > 0) gitHubName.userName = list.get(0);
             if(list.size() > 1) gitHubName.repoName = list.get(1);
         }catch (Exception e){

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/RepoInfoPresenter.java
Patch:
@@ -69,7 +69,9 @@ public void loadReadMe() {
         final String readmeFileUrl = AppConfig.GITHUB_API_BASE_URL + "repos/" + repository.getFullName()
                 + "/" + "readme" + (StringUtils.isBlank(curBranch) ? "" : "?ref=" + curBranch);
 
-        final String baseUrl = AppConfig.GITHUB_BASE_URL + repository.getFullName();
+        String branch = StringUtils.isBlank(curBranch) ? repository.getDefaultBranch() : curBranch;
+        final String baseUrl = AppConfig.GITHUB_BASE_URL + repository.getFullName()
+                + "/blob/" + branch  + "/" + "README.md";
 
 //        if(!StringUtils.isBlank(readmeSource)){
 //            mView.showReadMe(readmeSource, baseUrl);

File: app/src/main/java/com/thirtydegreesray/openhub/util/GitHubHelper.java
Patch:
@@ -54,9 +54,7 @@ public class GitHubHelper {
     private static final Pattern RELEASE_TAG_PATTERN = Pattern.compile(GITHUB_BASE_URL_PATTERN_STR
             + "/([a-z]|[A-Z]|\\d|-)*/([a-z]|[A-Z]|\\d|-|\\.|_)*/releases/tag/([^/])*(/)?");
 
-
-    private static final Pattern GITHUB_URL_PATTERN = Pattern.compile(GITHUB_BASE_URL_PATTERN_STR
-            + "(.)*");
+    private static final Pattern GITHUB_URL_PATTERN = Pattern.compile(GITHUB_BASE_URL_PATTERN_STR + "(.)*");
 
     public static boolean isImage(@Nullable String name) {
         if (StringUtils.isBlank(name)) return false;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/RepoInfoFragment.java
Patch:
@@ -155,12 +155,11 @@ public void updateDrawState(TextPaint ds) {
         repoTitleText.setText(spannable);
     }
 
-    //FIXME scroll conflict
     @Override
     public void showReadMe(String source, String baseUrl) {
         if (!isReadmeSetted) {
             isReadmeSetted = true;
-            webView.setMdSource(source, baseUrl);
+            webView.setMdSource(source, baseUrl, true);
             readmeLoader.setVisibility(View.VISIBLE);
             readmeLoader.setIndeterminate(false);
             webView.setVisibility(View.VISIBLE);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/base/FragmentViewPagerAdapter.java
Patch:
@@ -78,7 +78,7 @@ public Fragment getCurFragment() {
         return curFragment;
     }
 
-    public List<FragmentPagerModel> getPagerList(){
+    public List<FragmentPagerModel> getPagerList() {
         return mPagerList;
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/FragmentComponent.java
Patch:
@@ -28,7 +28,6 @@
 import com.thirtydegreesray.openhub.ui.fragment.RepoFilesFragment;
 import com.thirtydegreesray.openhub.ui.fragment.RepoInfoFragment;
 import com.thirtydegreesray.openhub.ui.fragment.RepositoriesFragment;
-import com.thirtydegreesray.openhub.ui.fragment.TrendingFragment;
 import com.thirtydegreesray.openhub.ui.fragment.UserListFragment;
 import com.thirtydegreesray.openhub.ui.fragment.ViewerFragment;
 
@@ -43,7 +42,6 @@
 @FragmentScope
 @Component(modules = FragmentModule.class, dependencies = AppComponent.class)
 public interface FragmentComponent {
-    void inject(TrendingFragment fragment);
     void inject(RepositoriesFragment fragment);
     void inject(RepoInfoFragment fragment);
     void inject(RepoFilesFragment fragment);

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/ISearchContract.java
Patch:
@@ -30,7 +30,7 @@
 public interface ISearchContract {
 
     interface View extends IBaseContract.View{
-
+        void showSearches(ArrayList<SearchModel> searchModels);
     }
 
     interface Presenter extends IBaseContract.Presenter<ISearchContract.View>{

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/CommitDetailPresenter.java
Patch:
@@ -63,6 +63,7 @@ public void onViewInitialized() {
         new Handler().postDelayed(new Runnable() {
             @Override
             public void run() {
+                if(mView == null) return;
                 loadCommitInfo();
             }
         }, 500);

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/ProfilePresenter.java
Patch:
@@ -60,6 +60,7 @@ public void onViewInitialized() {
         new Handler().postDelayed(new Runnable() {
             @Override
             public void run() {
+                if(mView == null) return;
                 isTransitionComplete = true;
                 if(isWaitForTransition) mView.showProfileInfo(user);
                 isWaitForTransition = false;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/IssuesActivity.java
Patch:
@@ -91,10 +91,10 @@ protected void initView(Bundle savedInstanceState) {
 
             if(IssuesFilter.Type.User.equals(issuesType)){
             pagerAdapter.setPagerList(FragmentPagerModel
-                    .createUserIssuesPagerList(getActivity()));
+                    .createUserIssuesPagerList(getActivity(), getFragments()));
         } else {
             pagerAdapter.setPagerList(FragmentPagerModel
-                    .createRepoIssuesPagerList(getActivity(), userId, repoName));
+                    .createRepoIssuesPagerList(getActivity(), userId, repoName, getFragments()));
             navView.getMenu().findItem(R.id.nav_type_chooser).setVisible(false);
         }
         listeners = new ArrayList<>();

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/TrendingActivity.java
Patch:
@@ -63,7 +63,7 @@ protected void initView(Bundle savedInstanceState) {
         setToolbarScrollAble(true);
         setToolbarBackEnable();
         setToolbarTitle(getString(R.string.trending));
-        pagerAdapter.setPagerList(FragmentPagerModel.createTrendingPagerList(getActivity()));
+        pagerAdapter.setPagerList(FragmentPagerModel.createTrendingPagerList(getActivity(), getFragments()));
         tabLayout.setVisibility(View.VISIBLE);
         tabLayout.setupWithViewPager(viewPager);
         viewPager.setAdapter(pagerAdapter);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/MarkdownEditorFragment.java
Patch:
@@ -8,7 +8,7 @@
 import com.thirtydegreesray.dataautoaccess.annotation.AutoAccess;
 import com.thirtydegreesray.openhub.R;
 import com.thirtydegreesray.openhub.inject.component.AppComponent;
-import com.thirtydegreesray.openhub.ui.activity.MarkdownEditorActivity;
+import com.thirtydegreesray.openhub.ui.activity.MarkdownEditorCallback;
 import com.thirtydegreesray.openhub.ui.fragment.base.BaseFragment;
 import com.thirtydegreesray.openhub.util.BundleBuilder;
 import com.thirtydegreesray.openhub.util.StringUtils;
@@ -22,7 +22,7 @@
  */
 
 public class MarkdownEditorFragment extends BaseFragment
-        implements MarkdownEditorActivity.MarkdownEditor {
+        implements MarkdownEditorCallback {
 
     public static MarkdownEditorFragment create(@Nullable String text) {
         MarkdownEditorFragment fragment = new MarkdownEditorFragment();

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/ICommitDetailContract.java
Patch:
@@ -29,6 +29,7 @@ public interface ICommitDetailContract {
     interface View extends IBaseContract.View{
         void showCommit(RepoCommit commit);
         void showCommitInfo(RepoCommitExt commitExt);
+        void showUserAvatar(String userAvatarUrl);
     }
 
     interface Presenter extends IBaseContract.Presenter<ICommitDetailContract.View>{

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/ICommitsContract.java
Patch:
@@ -36,7 +36,6 @@ interface View extends IBaseContract.View, IBasePagerContract.View, IBaseListCon
     }
 
     interface Presenter extends IBasePagerContract.Presenter<ICommitsContract.View>{
-        void loadCommits(@NonNull String branch, boolean isReload, int page);
         void loadCommits(boolean isReload, int page);
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/IssueDetailActivity.java
Patch:
@@ -153,8 +153,7 @@ public boolean onOptionsItemSelected(MenuItem item) {
 
     @Override
     public void showIssue(final Issue issue) {
-        setToolbarTitle(getString(R.string.issue).concat(" #").concat(String.valueOf(issue.getNumber())),
-                issue.getRepoFullName());
+        setToolbarTitle(getString(R.string.issue).concat(" #").concat(String.valueOf(issue.getNumber())));
         GlideApp.with(getActivity())
                 .load(issue.getUser().getAvatarUrl())
                 .placeholder(R.mipmap.logo)

File: app/src/main/java/com/thirtydegreesray/openhub/ui/adapter/base/FragmentPagerModel.java
Patch:
@@ -65,7 +65,7 @@ public static List<FragmentPagerModel> createRepoPagerList(Context context, Repo
                 new FragmentPagerModel(context.getString(R.string.info), RepoInfoFragment.create(repository)),
                 new FragmentPagerModel(context.getString(R.string.files), RepoFilesFragment.create(repository)),
                 new FragmentPagerModel(context.getString(R.string.commits),
-                        CommitsFragment.create(repository.getOwner().getLogin(),
+                        CommitsFragment.createForRepo(repository.getOwner().getLogin(),
                                 repository.getName(), repository.getDefaultBranch())),
                 new FragmentPagerModel(context.getString(R.string.activity),
                         ActivityFragment.create(ActivityFragment.ActivityType.Repository,

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/RepoInfoFragment.java
Patch:
@@ -123,8 +123,8 @@ public void showRepoInfo(Repository repository) {
 
         String createStr = (repository.isFork() ? getString(R.string.forked_at)
                 : getString(R.string.created_at)) + " " + StringUtils.getDateStr(repository.getCreatedAt());
-        String updateStr = getString(R.string.latest_update) + " "
-                + StringUtils.getNewsTimeStr(getActivity(), repository.getUpdatedAt());
+        String updateStr = getString(R.string.latest_commit) + " "
+                + StringUtils.getNewsTimeStr(getActivity(), repository.getPushedAt());
         repoCreatedInfoText.setText(String.format("%s, %s", createStr, updateStr));
 
         if (repository.isFork() && repository.getParent() != null) {

File: app/src/main/java/com/thirtydegreesray/openhub/http/IssueService.java
Patch:
@@ -51,6 +51,7 @@ Observable<Response<ArrayList<Issue>>> getUserIssues(
     );
 
     @NonNull @GET("repos/{owner}/{repo}/issues/{issueNumber}")
+    @Headers("Accept: application/vnd.github.html,application/vnd.github.VERSION.raw")
     Observable<Response<Issue>> getIssueInfo(
             @Header("forceNetWork") boolean forceNetWork,
             @Path("owner") String owner,

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/IssueTimelinePresenter.java
Patch:
@@ -157,7 +157,6 @@ private ArrayList<IssueEvent> filterEvents(ArrayList<IssueEvent> oriEvents){
         return filteredEvents;
     }
 
-    //FIXME issue info from activities don't contain body html
     private IssueEvent getFirstComment(){
         IssueEvent firstComment = new IssueEvent();
         firstComment.setBodyHtml(issue.getBodyHtml());

File: app/src/main/java/com/thirtydegreesray/openhub/util/GitHubHelper.java
Patch:
@@ -34,9 +34,9 @@ public class GitHubHelper {
             ".md", ".mkdn", ".mdwn", ".mdown", ".markdown", ".mkd", ".mkdown", ".ron", ".rst", "adoc"
     };
 
-    private static final String[] ARCHIVE_EXTENSIONS = {
-            ".zip", ".7z", ".rar", ".tar.gz", ".tgz", ".tar.Z", ".tar.bz2", ".tbz2", ".tar.lzma",
-            ".tlz", ".apk", ".jar", ".dmg"
+        private static final String[] ARCHIVE_EXTENSIONS = {
+            ".zip", ".zipx", ".7z", "s7z", "zz", ".rar", ".tar.gz", ".tgz", ".tar.Z", ".tar.bz2", ".tbz2", ".tar.lzma",
+            ".tlz", ".apk", ".jar", ".dmg", "ipa", "war", "cab", "dar"
     };
 
     private static final String GITHUB_BASE_URL_PATTERN_STR = "(https://)?(http://)?(www.)?github.com";

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/RepoInfoFragment.java
Patch:
@@ -110,7 +110,7 @@ protected void initFragment(Bundle savedInstanceState) {
     public void showRepoInfo(Repository repository) {
 //        repoDescText.setVisibility(View.GONE);
 
-        issueLay.setVisibility(repository.isFork() ? View.GONE :View.VISIBLE);
+        issueLay.setVisibility(repository.isHasIssues() ? View.VISIBLE :View.GONE);
         issuesNumText.setText(String.valueOf(repository.getOpenIssuesCount()));
         stargazersNumText.setText(String.valueOf(repository.getStargazersCount()));
         forksNumText.setText(String.valueOf(repository.getForksCount()));

File: app/src/main/java/com/thirtydegreesray/openhub/dao/DaoMaster.java
Patch:
@@ -17,7 +17,7 @@
  * Master of DAO (schema version 1): knows all DAOs.
  */
 public class DaoMaster extends AbstractDaoMaster {
-    public static final int SCHEMA_VERSION = 1;
+    public static final int SCHEMA_VERSION = 2;
 
     /** Creates underlying database table using DAOs. */
     public static void createAllTables(Database db, boolean ifNotExists) {

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/ActivityComponent.java
Patch:
@@ -18,7 +18,7 @@
 
 import com.thirtydegreesray.openhub.inject.ActivityScope;
 import com.thirtydegreesray.openhub.inject.module.ActivityModule;
-import com.thirtydegreesray.openhub.ui.activity.MarkdownEditorActivity;
+import com.thirtydegreesray.openhub.ui.activity.EditIssueActivity;
 import com.thirtydegreesray.openhub.ui.activity.IssueDetailActivity;
 import com.thirtydegreesray.openhub.ui.activity.IssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.LoginActivity;
@@ -49,4 +49,5 @@ public interface ActivityComponent {
     void inject(ReleaseInfoActivity activity);
     void inject(IssuesActivity activity);
     void inject(IssueDetailActivity activity);
+    void inject(EditIssueActivity activity);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IIssueTimelineContract.java
Patch:
@@ -19,7 +19,7 @@ interface View extends IBaseContract.View, IBaseListContract.View {
 
     interface Presenter extends IBaseContract.Presenter<IIssueTimelineContract.View> {
         void loadTimeline(int page, boolean isReload);
-        boolean isEditAndDeleteEnable();
+        boolean isEditAndDeleteEnable(int position);
         void deleteComment(String commentId);
         void editComment(String commentId, String body);
     }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/ProfilePresenter.java
Patch:
@@ -63,10 +63,11 @@ public void run() {
                 isTransitionComplete = true;
                 if(isWaitForTransition) mView.showProfileInfo(user);
                 isWaitForTransition = false;
+                getProfileInfo();
+                checkFollowingStatus();
             }
         }, 500);
-        getProfileInfo();
-        checkFollowingStatus();
+
     }
 
     private void getProfileInfo(){

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/MarkdownEditorFragment.java
Patch:
@@ -49,6 +49,7 @@ protected void initFragment(Bundle savedInstanceState) {
         if (!StringUtils.isBlank(text)) {
             isTextChanged = true;
             markdownEdit.setText(text);
+            markdownEdit.setSelection(text.length());
         }
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/model/filter/IssuesFilter.java
Patch:
@@ -16,7 +16,7 @@ public enum Type {
     }
 
     public enum UserIssuesFilterType {
-        All, Created, Assigned, Mentioned, Subscribed
+        All, Created, Assigned, Mentioned
     }
 
     public enum SortType {

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/IssuesActivity.java
Patch:
@@ -185,8 +185,6 @@ private IssuesFilter.UserIssuesFilterType getUserIssuesFilterType(int itemId){
                 return IssuesFilter.UserIssuesFilterType.Assigned;
             case R.id.nav_mentioned:
                 return IssuesFilter.UserIssuesFilterType.Mentioned;
-            case R.id.nav_subscribed:
-                return IssuesFilter.UserIssuesFilterType.Subscribed;
             default:
                 return IssuesFilter.UserIssuesFilterType.All;
         }

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/ActivityComponent.java
Patch:
@@ -18,6 +18,7 @@
 
 import com.thirtydegreesray.openhub.inject.ActivityScope;
 import com.thirtydegreesray.openhub.inject.module.ActivityModule;
+import com.thirtydegreesray.openhub.ui.activity.MarkdownEditorActivity;
 import com.thirtydegreesray.openhub.ui.activity.IssueDetailActivity;
 import com.thirtydegreesray.openhub.ui.activity.IssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.LoginActivity;

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/IssueTimelinePresenter.java
Patch:
@@ -135,4 +135,7 @@ private void handleError(Throwable error){
         }
     }
 
+    public ArrayList<IssueEvent> getTimeline() {
+        return timeline;
+    }
 }

File: app/src/main/java/com/thirtydegreesray/openhub/AppApplication.java
Patch:
@@ -66,7 +66,7 @@ public void onCreate() {
     }
 
     private void initBugly(){
-        if(BuildConfig.DEBUG) return;
+//        if(BuildConfig.DEBUG) return;
 
         Beta.initDelay = 5 * 1000;
         Beta.enableHotfix = false;

File: app/src/main/java/com/thirtydegreesray/openhub/AppConfig.java
Patch:
@@ -37,7 +37,7 @@ public class AppConfig {
      */
     public final static String OPENHUB_BASE_URL = "http://openhub.raysus.win:3000/";
 
-    public final static int HTTP_TIME_OUT = 16 * 1000;
+    public final static int HTTP_TIME_OUT = 32 * 1000;
 
     public final static int HTTP_MAX_CACHE_SIZE = 32 * 1024 * 1024;
 

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/ActivityComponent.java
Patch:
@@ -18,6 +18,7 @@
 
 import com.thirtydegreesray.openhub.inject.ActivityScope;
 import com.thirtydegreesray.openhub.inject.module.ActivityModule;
+import com.thirtydegreesray.openhub.ui.activity.IssueDetailActivity;
 import com.thirtydegreesray.openhub.ui.activity.IssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.LoginActivity;
 import com.thirtydegreesray.openhub.ui.activity.MainActivity;
@@ -46,4 +47,5 @@ public interface ActivityComponent {
     void inject(SearchActivity activity);
     void inject(ReleaseInfoActivity activity);
     void inject(IssuesActivity activity);
+    void inject(IssueDetailActivity activity);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/FragmentComponent.java
Patch:
@@ -19,6 +19,7 @@
 import com.thirtydegreesray.openhub.inject.FragmentScope;
 import com.thirtydegreesray.openhub.inject.module.FragmentModule;
 import com.thirtydegreesray.openhub.ui.fragment.ActivityFragment;
+import com.thirtydegreesray.openhub.ui.fragment.IssueTimelineFragment;
 import com.thirtydegreesray.openhub.ui.fragment.IssuesFragment;
 import com.thirtydegreesray.openhub.ui.fragment.ProfileInfoFragment;
 import com.thirtydegreesray.openhub.ui.fragment.ReleasesFragment;
@@ -50,4 +51,5 @@ public interface FragmentComponent {
     void inject(ActivityFragment fragment);
     void inject(ReleasesFragment fragment);
     void inject(IssuesFragment fragment);
+    void inject(IssueTimelineFragment fragment);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IIssuesActContract.java
Patch:
@@ -6,13 +6,13 @@
  * Created by ThirtyDegreesRay on 2017/9/20 17:21:14
  */
 
-public interface IRepoIssuesContract {
+public interface IIssuesActContract {
 
     interface View extends IBaseContract.View{
 
     }
 
-    interface Presenter extends IBaseContract.Presenter<IRepoIssuesContract.View>{
+    interface Presenter extends IBaseContract.Presenter<IIssuesActContract.View>{
 
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IViewerContract.java
Patch:
@@ -29,7 +29,7 @@ public interface IViewerContract {
 
     interface View extends IBaseContract.View{
         void loadImageUrl(@NonNull String url);
-        void loadMdText(@NonNull String text, @NonNull String baseUrl);
+        void loadMdText(@NonNull String text, @Nullable String baseUrl);
         void loadCode(@NonNull String text, @Nullable String extension);
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/IssuesActivity.java
Patch:
@@ -17,7 +17,7 @@
 import com.thirtydegreesray.openhub.mvp.model.Issue;
 import com.thirtydegreesray.openhub.mvp.model.filter.IssuesFilter;
 import com.thirtydegreesray.openhub.mvp.model.filter.SortDirection;
-import com.thirtydegreesray.openhub.mvp.presenter.RepoIssuesPresenter;
+import com.thirtydegreesray.openhub.mvp.presenter.IssuesActPresenter;
 import com.thirtydegreesray.openhub.ui.activity.base.PagerWithDrawerActivity;
 import com.thirtydegreesray.openhub.ui.adapter.base.FragmentPagerModel;
 import com.thirtydegreesray.openhub.util.BundleBuilder;
@@ -29,7 +29,7 @@
  * Created by ThirtyDegreesRay on 2017/9/20 14:42:31
  */
 
-public class IssuesActivity extends PagerWithDrawerActivity<RepoIssuesPresenter> {
+public class IssuesActivity extends PagerWithDrawerActivity<IssuesActPresenter> {
 
     public static void showForRepo(@NonNull Activity activity, @NonNull String userId,
                                    @NonNull String repoName){

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ActivityFragment.java
Patch:
@@ -18,6 +18,7 @@
 
 import android.os.Bundle;
 import android.support.annotation.NonNull;
+import android.view.View;
 
 import com.thirtydegreesray.openhub.R;
 import com.thirtydegreesray.openhub.inject.component.AppComponent;
@@ -89,8 +90,8 @@ protected String getEmptyTip() {
     }
 
     @Override
-    public void onItemClick(int position) {
-        super.onItemClick(position);
+    public void onItemClick(int position, @NonNull View view) {
+        super.onItemClick(position, view);
         Event event = adapter.getData().get(position);
         if(event.getRepo() == null){
             ProfileActivity.show(getContext(), event.getActor().getLogin());

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/ActivityComponent.java
Patch:
@@ -18,11 +18,11 @@
 
 import com.thirtydegreesray.openhub.inject.ActivityScope;
 import com.thirtydegreesray.openhub.inject.module.ActivityModule;
+import com.thirtydegreesray.openhub.ui.activity.IssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.LoginActivity;
 import com.thirtydegreesray.openhub.ui.activity.MainActivity;
 import com.thirtydegreesray.openhub.ui.activity.ProfileActivity;
 import com.thirtydegreesray.openhub.ui.activity.ReleaseInfoActivity;
-import com.thirtydegreesray.openhub.ui.activity.RepoIssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.RepositoryActivity;
 import com.thirtydegreesray.openhub.ui.activity.SearchActivity;
 import com.thirtydegreesray.openhub.ui.activity.SettingsActivity;
@@ -45,5 +45,5 @@ public interface ActivityComponent {
     void inject(ProfileActivity activity);
     void inject(SearchActivity activity);
     void inject(ReleaseInfoActivity activity);
-    void inject(RepoIssuesActivity activity);
+    void inject(IssuesActivity activity);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IIssuesContract.java
Patch:
@@ -4,6 +4,7 @@
 import com.thirtydegreesray.openhub.mvp.contract.base.IBaseListContract;
 import com.thirtydegreesray.openhub.mvp.contract.base.IBasePagerContract;
 import com.thirtydegreesray.openhub.mvp.model.Issue;
+import com.thirtydegreesray.openhub.mvp.model.filter.IssuesFilter;
 
 import java.util.ArrayList;
 
@@ -19,6 +20,7 @@ interface View extends IBaseContract.View, IBasePagerContract.View, IBaseListCon
 
     interface Presenter extends IBasePagerContract.Presenter<IIssuesContract.View>{
         void loadIssues(int page, boolean isReload);
+        void loadIssues(IssuesFilter issuesFilter, int page, boolean isReload);
     }
 
 }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/model/Event.java
Patch:
@@ -112,7 +112,7 @@ public enum EventType{
         LabelEvent,
 
         //Events of this type are no longer delivered, but it's possible that they exist in timelines
-        // of some users. You cannot create webhooks that listen to these events.
+        // of some users. You cannot createForRepo webhooks that listen to these events.
         DownloadEvent,
         FollowEvent,
         ForkApplyEvent,

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/MainActivity.java
Patch:
@@ -153,7 +153,7 @@ public void onBackPressed() {
     @Override
     public boolean onOptionsItemSelected(MenuItem item) {
 //        if (item.getItemId() == R.id.action_search) {
-//            SearchActivity.show(getActivity());
+//            SearchActivity.showForRepo(getActivity());
 //            return true;
 //        }
         return super.onOptionsItemSelected(item);
@@ -186,7 +186,7 @@ private void onNavItemSelected(MenuItem item) {
                 ProfileActivity.show(getActivity(), AppData.INSTANCE.getLoggedUser().getLogin());
                 break;
             case R.id.nav_issues:
-
+                IssuesActivity.showForUser(getActivity());
                 break;
             case R.id.nav_news:
             case R.id.nav_owned:
@@ -266,6 +266,7 @@ private Fragment getFragment(int itemId) {
         return null;
     }
 
+    //FIXME bugs when recreate
     private void showAndHideFragment(@NonNull Fragment showFragment, @Nullable Fragment hideFragment) {
         if (hideFragment == null) {
             getSupportFragmentManager()

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/SearchActivity.java
Patch:
@@ -23,6 +23,7 @@
 import android.support.annotation.Nullable;
 import android.support.v4.view.MenuItemCompat;
 import android.support.v7.widget.SearchView;
+import android.text.InputType;
 import android.view.Menu;
 import android.view.MenuItem;
 import android.view.View;
@@ -103,6 +104,7 @@ public boolean onCreateOptionsMenu(Menu menu) {
         SearchView searchView =
                 (SearchView) MenuItemCompat.getActionView(searchItem);
         searchView.setOnQueryTextListener(this);
+        searchView.setInputType(InputType.TYPE_TEXT_FLAG_CAP_WORDS);
         searchView.setQuery(mPresenter.getSearchModels().get(0).getQuery(), false);
         if (isInputMode) {
             MenuItemCompat.expandActionView(searchItem);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/base/BaseActivity.java
Patch:
@@ -262,7 +262,7 @@ public void dismissProgressDialog() {
         if(mProgressDialog != null){
             mProgressDialog.dismiss();
         }else{
-            throw new NullPointerException("dismissProgressDialog: can't dismiss a null dialog, must show dialog first!");
+            throw new NullPointerException("dismissProgressDialog: can't dismiss a null dialog, must showForRepo dialog first!");
         }
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/RepoInfoFragment.java
Patch:
@@ -36,7 +36,7 @@
 import com.thirtydegreesray.openhub.mvp.model.Repository;
 import com.thirtydegreesray.openhub.mvp.presenter.RepoInfoPresenter;
 import com.thirtydegreesray.openhub.ui.activity.ProfileActivity;
-import com.thirtydegreesray.openhub.ui.activity.RepoIssuesActivity;
+import com.thirtydegreesray.openhub.ui.activity.IssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.RepoListActivity;
 import com.thirtydegreesray.openhub.ui.activity.RepositoryActivity;
 import com.thirtydegreesray.openhub.ui.activity.UserListActivity;
@@ -161,7 +161,7 @@ public void showReadMe(String source, String baseUrl) {
     public void onViewClicked(View view) {
         switch (view.getId()) {
             case R.id.issues_lay:
-                RepoIssuesActivity.show(getActivity(), mPresenter.getRepository().getOwner().getLogin(),
+                IssuesActivity.showForRepo(getActivity(), mPresenter.getRepository().getOwner().getLogin(),
                         mPresenter.getRepository().getName());
 //                showInfoToast(getString(R.string.developing));
                 break;

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/base/BaseFragment.java
Patch:
@@ -217,7 +217,7 @@ public void dismissProgressDialog() {
         if(mProgressDialog != null){
             mProgressDialog.dismiss();
         }else{
-            throw new NullPointerException("dismissProgressDialog: can't dismiss a null dialog, must show dialog first!");
+            throw new NullPointerException("dismissProgressDialog: can't dismiss a null dialog, must showForRepo dialog first!");
         }
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/RepositoriesPresenter.java
Patch:
@@ -122,7 +122,6 @@ public Observable<Response<ArrayList<Repository>>> createObservable(boolean forc
     }
 
     private Observable<Response<ArrayList<Repository>>> getObservable(boolean forceNetWork, int page) {
-        String loginedUser = AppData.INSTANCE.getLoggedUser().getLogin();
         switch (type) {
             case OWNED:
                 return getRepoService().getUserRepos(forceNetWork, user, page);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/MainActivity.java
Patch:
@@ -182,6 +182,9 @@ private void onNavItemSelected(MenuItem item) {
         switch (id) {
             case R.id.nav_profile:
                 ProfileActivity.show(getActivity(), AppData.INSTANCE.getLoggedUser().getLogin());
+                break;
+            case R.id.nav_issues:
+
                 break;
             case R.id.nav_news:
             case R.id.nav_owned:

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/SplashActivity.java
Patch:
@@ -46,7 +46,9 @@ public void showMainPage() {
         Uri dataUri = getIntent().getData();
         if (dataUri == null) {
             startActivity(new Intent(getActivity(), MainActivity.class));
-        } else if (dataUri.toString().equals("trending")){
+        }
+        //handle shortcuts redirection
+        else if (dataUri.toString().equals("trending")){
             startActivity(new Intent(getActivity(), TrendingActivity.class));
         } else if (dataUri.toString().equals("search")){
             startActivity(new Intent(getActivity(), SearchActivity.class));

File: app/src/main/java/com/thirtydegreesray/openhub/AppApplication.java
Patch:
@@ -67,6 +67,8 @@ public void onCreate() {
     }
 
     private void initBugly(){
+        if(BuildConfig.DEBUG) return;
+
         Beta.initDelay = 5 * 1000;
         Beta.enableHotfix = false;
         Beta.canShowUpgradeActs.add(LoginActivity.class);

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/ActivityComponent.java
Patch:
@@ -22,6 +22,7 @@
 import com.thirtydegreesray.openhub.ui.activity.MainActivity;
 import com.thirtydegreesray.openhub.ui.activity.ProfileActivity;
 import com.thirtydegreesray.openhub.ui.activity.ReleaseInfoActivity;
+import com.thirtydegreesray.openhub.ui.activity.RepoIssuesActivity;
 import com.thirtydegreesray.openhub.ui.activity.RepositoryActivity;
 import com.thirtydegreesray.openhub.ui.activity.SearchActivity;
 import com.thirtydegreesray.openhub.ui.activity.SettingsActivity;
@@ -44,4 +45,5 @@ public interface ActivityComponent {
     void inject(ProfileActivity activity);
     void inject(SearchActivity activity);
     void inject(ReleaseInfoActivity activity);
+    void inject(RepoIssuesActivity activity);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/inject/component/FragmentComponent.java
Patch:
@@ -19,6 +19,7 @@
 import com.thirtydegreesray.openhub.inject.FragmentScope;
 import com.thirtydegreesray.openhub.inject.module.FragmentModule;
 import com.thirtydegreesray.openhub.ui.fragment.ActivityFragment;
+import com.thirtydegreesray.openhub.ui.fragment.IssuesFragment;
 import com.thirtydegreesray.openhub.ui.fragment.ProfileInfoFragment;
 import com.thirtydegreesray.openhub.ui.fragment.ReleasesFragment;
 import com.thirtydegreesray.openhub.ui.fragment.RepoFilesFragment;
@@ -48,4 +49,5 @@ public interface FragmentComponent {
     void inject(ProfileInfoFragment fragment);
     void inject(ActivityFragment fragment);
     void inject(ReleasesFragment fragment);
+    void inject(IssuesFragment fragment);
 }

File: app/src/main/java/com/thirtydegreesray/openhub/ui/activity/MainActivity.java
Patch:
@@ -128,6 +128,7 @@ protected void initView(Bundle savedInstanceState) {
         User loginUser = AppData.INSTANCE.getLoggedUser();
         GlideApp.with(getActivity())
                 .load(loginUser.getAvatarUrl())
+                .placeholder(R.mipmap.logo)
                 .into(avatar);
         name.setText(StringUtils.isBlank(loginUser.getName()) ? loginUser.getLogin() : loginUser.getName());
         String joinTime = getString(R.string.joined_at).concat(" ")

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ProfileInfoFragment.java
Patch:
@@ -150,6 +150,7 @@ public void onViewClicked(View view) {
     public void showProfileInfo(User user) {
         GlideApp.with(this)
                 .load(user.getAvatarUrl())
+                .placeholder(R.mipmap.logo)
                 .into(avatar);
         String nameStr = StringUtils.isBlank(user.getName()) ? user.getLogin() : user.getName();
         nameStr = user.isUser() ? nameStr : nameStr.concat("(ORG)");

File: app/src/main/java/com/thirtydegreesray/openhub/util/GitHubHelper.java
Patch:
@@ -40,11 +40,11 @@ public class GitHubHelper {
     };
 
     public static final Pattern REPO_FULL_NAME_PATTERN =
-            Pattern.compile("([a-z]|[A-Z]|\\d|-)*/([a-z]|[A-Z]|\\d|-|\\.)*");
+            Pattern.compile("([a-z]|[A-Z]|\\d|-)*/([a-z]|[A-Z]|\\d|-|\\.|_)*");
     private static final Pattern USER_PATTERN =
             Pattern.compile("(https://)?(www.)?github.com/([a-z]|[A-Z]|\\d|-)*(/)?");
     private static final Pattern REPO_PATTERN =
-            Pattern.compile("(https://)?(www.)?github.com/([a-z]|[A-Z]|\\d|-)*/([a-z]|[A-Z]|\\d|-|\\.)*(/)?");
+            Pattern.compile("(https://)?(www.)?github.com/([a-z]|[A-Z]|\\d|-)*/([a-z]|[A-Z]|\\d|-|\\.|_)*(/)?");
 
     public static boolean isImage(@Nullable String name) {
         if (StringUtils.isBlank(name)) return false;

File: app/src/main/java/com/thirtydegreesray/openhub/util/AppHelper.java
Patch:
@@ -186,9 +186,11 @@ public static void showDownloadServiceSetting(Context context){
         try {
             Intent intent = new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS);
             intent.setData(Uri.parse("package:" + DOWNLOAD_SERVICE_PACKAGE_NAME));
+            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
             context.startActivity(intent);
         } catch (ActivityNotFoundException e){
             Intent intent = new Intent(android.provider.Settings.ACTION_APPLICATION_DETAILS_SETTINGS);
+            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
             context.startActivity(intent);
         }
     }

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IRepositoriesContract.java
Patch:
@@ -36,6 +36,8 @@ interface View extends IBaseContract.View {
 
         void setCanLoadMore(boolean canLoadMore);
 
+        void showLoginPage();
+
     }
 
     interface Presenter extends IBaseContract.Presenter<IRepositoriesContract.View> {

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/presenter/SplashPresenter.java
Patch:
@@ -17,7 +17,6 @@
 package com.thirtydegreesray.openhub.mvp.presenter;
 
 import android.support.annotation.NonNull;
-import android.util.Log;
 
 import com.thirtydegreesray.openhub.AppData;
 import com.thirtydegreesray.openhub.dao.AuthUser;
@@ -97,7 +96,10 @@ private void getUserInfo(final String accessToken) {
         HttpObserver<User> httpObserver = new HttpObserver<User>() {
             @Override
             public void onError(@NonNull Throwable error) {
+                daoSession.getAuthUserDao().delete(AppData.INSTANCE.getAuthUser());
+                AppData.INSTANCE.setAuthUser(null);
                 mView.showErrorToast(getErrorTip(error));
+                mView.showLoginPage();
             }
 
             @Override

File: app/src/main/java/com/thirtydegreesray/openhub/AppApplication.java
Patch:
@@ -68,7 +68,7 @@ public void onCreate() {
 
     private void initBugly(){
         Beta.initDelay = 5 * 1000;
-        Beta.enableHotfix = true;
+        Beta.enableHotfix = false;
         Beta.canShowUpgradeActs.add(LoginActivity.class);
         Beta.canShowUpgradeActs.add(MainActivity.class);
         Beta.canShowUpgradeActs.add(AboutActivity.class);

File: app/src/main/java/com/thirtydegreesray/openhub/ui/fragment/ProfileInfoFragment.java
Patch:
@@ -130,7 +130,7 @@ public void onViewClicked(View view) {
                         mPresenter.getUser().getLogin());
                 break;
             case R.id.gists_lay:
-                if(mPresenter.getUser().getPublicGists() == 0) return;
+//                if(mPresenter.getUser().getPublicGists() == 0) return;
                 showInfoToast(getString(R.string.developing));
                 break;
             case R.id.email:

File: app/src/main/java/com/thirtydegreesray/openhub/util/PrefHelper.java
Patch:
@@ -106,7 +106,7 @@ public static String getLanguage(){
     }
 
     public static int getAccentColor(){
-        int accentColor = getDefaultSp(AppApplication.get()).getInt(ACCENT_COLOR, 2);
+        int accentColor = getDefaultSp(AppApplication.get()).getInt(ACCENT_COLOR, 11);
         return accentColor;
     }
 

File: app/src/main/java/com/thirtydegreesray/openhub/http/RepoService.java
Patch:
@@ -177,7 +177,8 @@ Observable<Response<Repository>> createFork(
     Observable<Response<ArrayList<Repository>>> getForks(
             @Header("forceNetWork") boolean forceNetWork,
             @Path("owner") String owner,
-            @Path("repo") String repo
+            @Path("repo") String repo,
+            @Query("page") int page
     );
 
     /**

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IActivityContract.java
Patch:
@@ -28,6 +28,7 @@ public interface IActivityContract {
 
     interface View extends IBaseContract.View{
         void showEvents(ArrayList<Event> events);
+        void setCanLoadMore(boolean canLoadMore);
     }
 
     interface Presenter extends IBaseContract.Presenter<IActivityContract.View>{

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IRepositoriesContract.java
Patch:
@@ -34,6 +34,8 @@ interface View extends IBaseContract.View {
 
         void showLoadError(String errorMsg);
 
+        void setCanLoadMore(boolean canLoadMore);
+
     }
 
     interface Presenter extends IBaseContract.Presenter<IRepositoriesContract.View> {

File: app/src/main/java/com/thirtydegreesray/openhub/mvp/contract/IUserListContract.java
Patch:
@@ -28,6 +28,7 @@ public interface IUserListContract {
 
     interface View extends IBaseContract.View{
         void showUsers(ArrayList<User> users);
+        void setCanLoadMore(boolean canLoadMore);
     }
 
     interface Presenter extends IBaseContract.Presenter<IUserListContract.View>{

