# PRFC: Program Repair combining Fix patterns and Code language models



This repo contains both the correct patches generated by our study along with the code used to run the experiment.



### Prerequisites



1. Defects4J

```
Install Defects4J from https://github.com/rjust/defects4j 
export PATH=$PATH:"path2defects4j"/framework/bin
```

2. JDK 1.8

```
JDK 1.8 for Defects4J
export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64
export PATH=$JAVA_HOME/bin:$PATH
export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
```



### Plausible patches generation



Example usage to run PRFC: bug_id: The bug you want to fix. skip_v: Skip the patch validation step, re_rank: Use the patch rerank step, perfect: Use the perfect fault information.

```
python experiment.py --bug_id Chart-1 \
               --skip_v \
               --re_rank \
               --re_rank 
```

